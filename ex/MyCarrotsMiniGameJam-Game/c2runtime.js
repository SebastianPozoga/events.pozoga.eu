// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';function E(){return function(){}}function F(c){return function(){return this[c]}}function G(c){return function(){return c}}var I,aa,J,K,ba,L,M,N,ca,O,fa,P,ga,ha,ia,la,R,S,ma,na,T,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,U,za,Aa,Ba,Ca,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,V,Ta,Ua,Va,W,Wa={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(c){return c.__proto__}:function(c){return c.constructor.prototype});
(function(){function c(a,g,p,q){this.set(a,g,p,q)}function l(){this.Na=this.Ma=this.Pa=this.Oa=this.Za=this.Ya=this.qa=this.pa=0}function f(){n?this.qc=new Set:(this.nc={},this.Me=0);this.Pc=[];this.Vc=!0}function h(a){u[e++]=a}function b(){this.Ea=this.ig=this.y=this.vg=0}function d(a){this.za=[];this.$e(a)}I=function(a){window.console&&window.console.log&&window.console.log(a)};aa=function(a){return"undefined"===typeof a};J=function(a){return"number"===typeof a};K=function(a){return"string"===typeof a};
ba=function(a){return 0<a&&0===(a-1&a)};L=function(a){return 0>a?-a:a};M=function(a,g){return a>g?a:g};N=function(a,g){return a<g?a:g};ca=Math.PI;O=function(a){return a|0};fa=function(a,g,p,q,k,m,n,e){if(M(a,p)<N(k,n)||N(a,p)>M(k,n)||M(g,q)<N(m,e)||N(g,q)>M(m,e))return!1;var b=k-a+n-p,d=m-g+e-q;a=p-a;g=q-g;k=n-k;m=e-m;e=L(g*k-m*a);return L(k*d-m*b)<=e&&L(a*d-g*b)<=e};c.prototype.set=function(a,g,p,q){this.left=a;this.top=g;this.right=p;this.bottom=q};c.prototype.width=function(){return this.right-
this.left};c.prototype.height=function(){return this.bottom-this.top};c.prototype.offset=function(a,g){this.left+=a;this.top+=g;this.right+=a;this.bottom+=g;return this};c.prototype.mm=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};c.prototype.Nb=function(a,g){return a>=this.left&&a<=this.right&&g>=this.top&&g<=this.bottom};P=c;l.prototype.Nh=function(a){this.pa=a.left;this.qa=a.top;this.Ya=a.right;this.Za=a.top;this.Oa=a.right;this.Pa=a.bottom;this.Ma=
a.left;this.Na=a.bottom};l.prototype.Uj=function(a,g){if(0===g)this.Nh(a);else{var p=Math.sin(g),q=Math.cos(g),k=a.left*p,m=a.top*p,n=a.right*p,p=a.bottom*p,e=a.left*q,b=a.top*q,d=a.right*q,q=a.bottom*q;this.pa=e-m;this.qa=b+k;this.Ya=d-m;this.Za=b+n;this.Oa=d-p;this.Pa=q+n;this.Ma=e-p;this.Na=q+k}};l.prototype.offset=function(a,g){this.pa+=a;this.qa+=g;this.Ya+=a;this.Za+=g;this.Oa+=a;this.Pa+=g;this.Ma+=a;this.Na+=g;return this};l.prototype.ni=function(a){a.left=N(N(this.pa,this.Ya),N(this.Oa,this.Ma));
a.top=N(N(this.qa,this.Za),N(this.Pa,this.Na));a.right=M(M(this.pa,this.Ya),M(this.Oa,this.Ma));a.bottom=M(M(this.qa,this.Za),M(this.Pa,this.Na))};l.prototype.Nb=function(a,g){var p=this.Ya-this.pa,q=this.Za-this.qa,k=this.Oa-this.pa,m=this.Pa-this.qa,n=a-this.pa,e=g-this.qa,b=p*p+q*q,d=p*k+q*m,q=p*n+q*e,c=k*k+m*m,u=k*n+m*e,h=1/(b*c-d*d),p=(c*q-d*u)*h,b=(b*u-d*q)*h;if(0<=p&&0<b&&1>p+b)return!0;p=this.Ma-this.pa;q=this.Na-this.qa;b=p*p+q*q;d=p*k+q*m;q=p*n+q*e;h=1/(b*c-d*d);p=(c*q-d*u)*h;b=(b*u-d*q)*
h;return 0<=p&&0<b&&1>p+b};l.prototype.wc=function(a,g){switch(a){case 0:return g?this.pa:this.qa;case 1:return g?this.Ya:this.Za;case 2:return g?this.Oa:this.Pa;case 3:return g?this.Ma:this.Na;case 4:return g?this.pa:this.qa;default:return g?this.pa:this.qa}};l.prototype.sj=function(){return(this.pa+this.Ya+this.Oa+this.Ma)/4};l.prototype.tj=function(){return(this.qa+this.Za+this.Pa+this.Na)/4};l.prototype.lm=function(a){var g=a.sj(),p=a.tj();if(this.Nb(g,p))return!0;g=this.sj();p=this.tj();if(a.Nb(g,
p))return!0;var q,k,m,n,b,e,d,c;for(d=0;4>d;d++)for(c=0;4>c;c++)if(g=this.wc(d,!0),p=this.wc(d,!1),q=this.wc(d+1,!0),k=this.wc(d+1,!1),m=a.wc(c,!0),n=a.wc(c,!1),b=a.wc(c+1,!0),e=a.wc(c+1,!1),fa(g,p,q,k,m,n,b,e))return!0;return!1};ga=l;ha=function(a,g){for(var p in g)g.hasOwnProperty(p)&&(a[p]=g[p]);return a};ia=function(a,g){var p,q;g=O(g);if(!(0>g||g>=a.length))if(0===g)a.shift();else if(g===a.length-1)a.pop();else{p=g;for(q=a.length-1;p<q;p++)a[p]=a[p+1];a.length=q}};la=function(a,g){a.length=g.length;
var p,q;p=0;for(q=g.length;p<q;p++)a[p]=g[p]};R=function(a,g){var p=a.indexOf(g);-1!==p&&ia(a,p)};S=function(a){return a/(180/ca)};ma=function(a){return a*(180/ca)};na=function(a){a%=360;0>a&&(a+=360);return a};T=function(a){a%=2*ca;0>a&&(a+=2*ca);return a};oa=function(a){return na(ma(a))};pa=function(a){return T(S(a))};qa=function(a,g,p,q){return Math.atan2(q-g,p-a)};ra=function(a,g){if(a===g)return 0;var p=Math.sin(a),q=Math.cos(a),k=Math.sin(g),m=Math.cos(g),p=p*k+q*m;return 1<=p?0:-1>=p?ca:Math.acos(p)};
sa=function(a,g,p){var q=Math.sin(a),k=Math.cos(a),m=Math.sin(g),n=Math.cos(g);return Math.acos(q*m+k*n)>p?0<k*m-q*n?T(a+p):T(a-p):T(g)};ta=function(a,g){var p=Math.sin(a),q=Math.cos(a),k=Math.sin(g),m=Math.cos(g);return 0>=q*k-p*m};ua=function(a,g,p,q){a=p-a;g=q-g;return Math.sqrt(a*a+g*g)};va=function(a,g){return!a!==!g};wa=function(a){for(var g in a)if(a.hasOwnProperty(g))return!0;return!1};xa=function(a){for(var g in a)a.hasOwnProperty(g)&&delete a[g]};var a=+new Date;ya=function(){if("undefined"!==
typeof window.performance){var k=window.performance;if("undefined"!==typeof k.now)return k.now();if("undefined"!==typeof k.webkitNow)return k.webkitNow();if("undefined"!==typeof k.msNow)return k.msNow()}return Date.now()-a};var n="undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;f.prototype.contains=function(a){return n?this.qc.has(a):this.nc.hasOwnProperty(a.toString())};f.prototype.add=function(a){if(n)this.qc.has(a)||(this.qc.add(a),this.Vc=!1);else{var g=a.toString();this.nc.hasOwnProperty(g)||
(this.nc[g]=a,this.Me++,this.Vc=!1)}return this};f.prototype.remove=function(a){n?this.qc.has(a)&&(this.qc["delete"](a),this.Vc=!1):(a=a.toString(),this.nc.hasOwnProperty(a)&&(delete this.nc[a],this.Me--,this.Vc=!1));return this};f.prototype.clear=function(){n?this.qc.clear():(xa(this.nc),this.Me=0);this.Pc.length=0;this.Vc=!0;return this};f.prototype.Fe=function(){return n?0===this.qc.size:0===this.Me};var u=null,e=0;f.prototype.lk=function(){if(!this.Vc){if(n)this.Pc.length=this.qc.size,u=this.Pc,
e=0,this.qc.forEach(h),u=null,e=0;else{this.Pc.length=this.Me;var a,g=0;for(a in this.nc)this.nc.hasOwnProperty(a)&&(this.Pc[g++]=this.nc[a])}this.Vc=!0}};f.prototype.jn=function(){this.lk();return this.Pc.slice(0)};f.prototype.xd=function(){this.lk();return this.Pc};U=f;b.prototype.add=function(a){this.y=a-this.vg;this.ig=this.Ea+this.y;this.vg=this.ig-this.Ea-this.y;this.Ea=this.ig};b.prototype.reset=function(){this.Ea=this.ig=this.y=this.vg=0};za=b;Aa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&")};d.prototype.$e=function(a){this.Jj=a;this.pc=a.length/2;this.za.length=a.length;this.wg=this.xg=-1;this.pi=0};d.prototype.Ke=function(){return!this.Jj.length};d.prototype.cg=function(a,g,p,q,k){this.za.length=8;this.pc=4;var m=this.za;m[0]=a.pa-g;m[1]=a.qa-p;m[2]=a.Ya-g;m[3]=a.Za-p;m[4]=a.Oa-g;m[5]=a.Pa-p;m[6]=a.Ma-g;m[7]=a.Na-p;this.xg=q;this.wg=k};d.prototype.Tj=function(a){this.pc=a.pc;la(this.za,a.za)};d.prototype.qe=function(a,g,p){if(this.xg!==a||this.wg!==g||this.pi!==p){this.xg=a;
this.wg=g;this.pi=p;var q,k,m,n=0,b=1,e=this.Jj,d=this.za;0!==p&&(n=Math.sin(p),b=Math.cos(p));p=0;for(q=this.pc;p<q;p++)k=e[2*p]*a,m=e[2*p+1]*g,d[2*p]=k*b-m*n,d[2*p+1]=m*b+k*n}};d.prototype.Nb=function(a,g){var p=this.za;if(a===p[0]&&g===p[1])return!0;var q,k,m,n=this.pc,b=p[0],e=b,d=p[1],c=d;for(q=1;q<n;q++)k=p[2*q],m=p[2*q+1],k<b&&(b=k),k>e&&(e=k),m<d&&(d=m),m>c&&(c=m);k=b-110;var d=d-101,e=e+131,c=c+120,u,h,f=0,l=0;for(q=0;q<n;q++)m=p[2*q],b=p[2*q+1],u=p[2*((q+1)%n)],h=p[2*((q+1)%n)+1],fa(k,d,
a,g,m,b,u,h)&&f++,fa(e,c,a,g,m,b,u,h)&&l++;return 1===f%2||1===l%2};d.prototype.Xi=function(a,g,p){var q=a.za,k=this.za;if(this.Nb(q[0]+g,q[1]+p)||a.Nb(k[0]-g,k[1]-p))return!0;var m,n,b,e,d,c,u,h,f,l,v,x;m=0;for(n=this.pc;m<n;m++)for(d=k[2*m],c=k[2*m+1],u=k[2*((m+1)%n)],h=k[2*((m+1)%n)+1],b=0,e=a.pc;b<e;b++)if(f=q[2*b]+g,l=q[2*b+1]+p,v=q[2*((b+1)%e)]+g,x=q[2*((b+1)%e)+1]+p,fa(d,c,u,h,f,l,v,x))return!0;return!1};Ba=d;var k="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
Ca=function(a){return 0>=a||11<=a?"source-over":k[a-1]};Ea=function(a,g,p){if(p)switch(a.Aa=p.ONE,a.ya=p.ONE_MINUS_SRC_ALPHA,g){case 1:a.Aa=p.ONE;a.ya=p.ONE;break;case 3:a.Aa=p.ONE;a.ya=p.ZERO;break;case 4:a.Aa=p.ONE_MINUS_DST_ALPHA;a.ya=p.ONE;break;case 5:a.Aa=p.DST_ALPHA;a.ya=p.ZERO;break;case 6:a.Aa=p.ZERO;a.ya=p.SRC_ALPHA;break;case 7:a.Aa=p.ONE_MINUS_DST_ALPHA;a.ya=p.ZERO;break;case 8:a.Aa=p.ZERO;a.ya=p.ONE_MINUS_SRC_ALPHA;break;case 9:a.Aa=p.DST_ALPHA;a.ya=p.ONE_MINUS_SRC_ALPHA;break;case 10:a.Aa=
p.ONE_MINUS_DST_ALPHA,a.ya=p.SRC_ALPHA}};Fa=function(a){return Math.round(1E6*a)/1E6};Ga=function(a,g){return"string"!==typeof a||"string"!==typeof g||a.length!==g.length?!1:a===g?!0:a.toLowerCase()===g.toLowerCase()}})();var Xa="undefined"!==typeof Float32Array?Float32Array:Array;function Ya(c){var l=new Xa(3);c&&(l[0]=c[0],l[1]=c[1],l[2]=c[2]);return l}
function Y(c){var l=new Xa(16);c&&(l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],l[9]=c[9],l[10]=c[10],l[11]=c[11],l[12]=c[12],l[13]=c[13],l[14]=c[14],l[15]=c[15]);return l}function Za(c,l){l[0]=c[0];l[1]=c[1];l[2]=c[2];l[3]=c[3];l[4]=c[4];l[5]=c[5];l[6]=c[6];l[7]=c[7];l[8]=c[8];l[9]=c[9];l[10]=c[10];l[11]=c[11];l[12]=c[12];l[13]=c[13];l[14]=c[14];l[15]=c[15]}
function $a(c,l){var f=l[0],h=l[1];l=l[2];c[0]*=f;c[1]*=f;c[2]*=f;c[3]*=f;c[4]*=h;c[5]*=h;c[6]*=h;c[7]*=h;c[8]*=l;c[9]*=l;c[10]*=l;c[11]*=l}
function ab(c,l,f,h){h||(h=Y());var b,d,a,n,u,e,k,r,g=c[0],p=c[1];c=c[2];d=f[0];a=f[1];b=f[2];f=l[1];e=l[2];g===l[0]&&p===f&&c===e?(c=h,c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1):(f=g-l[0],e=p-l[1],k=c-l[2],r=1/Math.sqrt(f*f+e*e+k*k),f*=r,e*=r,k*=r,l=a*k-b*e,b=b*f-d*k,d=d*e-a*f,(r=Math.sqrt(l*l+b*b+d*d))?(r=1/r,l*=r,b*=r,d*=r):d=b=l=0,a=e*d-k*b,n=k*l-f*d,u=f*b-e*l,(r=Math.sqrt(a*a+n*n+u*u))?(r=1/r,a*=r,n*=r,u*=r):u=n=a=0,
h[0]=l,h[1]=a,h[2]=f,h[3]=0,h[4]=b,h[5]=n,h[6]=e,h[7]=0,h[8]=d,h[9]=u,h[10]=k,h[11]=0,h[12]=-(l*g+b*p+d*c),h[13]=-(a*g+n*p+u*c),h[14]=-(f*g+e*p+k*c),h[15]=1)}
(function(){function c(a){this.height=this.width=0;this.qi=Ya([0,0,100]);this.pj=Ya([0,0,0]);this.jk=Ya([0,1,0]);this.fi=Ya([1,1,1]);this.qh=Y();this.ob=Y();this.fj=Y();this.Dg=Y();this.m=a;this.Ti()}function l(a,n,b){this.m=a;this.bf=n;this.name=b;this.nb=a.getAttribLocation(n,"aPos");this.Ec=a.getAttribLocation(n,"aTex");this.nj=a.getUniformLocation(n,"matP");this.Td=a.getUniformLocation(n,"matMV");this.Ud=a.getUniformLocation(n,"opacity");this.oj=a.getUniformLocation(n,"samplerFront");this.Sf=
a.getUniformLocation(n,"samplerBack");this.Sd=a.getUniformLocation(n,"destStart");this.Rd=a.getUniformLocation(n,"destEnd");this.oh=a.getUniformLocation(n,"seconds");this.nh=a.getUniformLocation(n,"pixelWidth");this.mh=a.getUniformLocation(n,"pixelHeight");this.lh=a.getUniformLocation(n,"layerScale");this.Ud&&a.uniform1f(this.Ud,1);this.oj&&a.uniform1i(this.oj,0);this.Sf&&a.uniform1i(this.Sf,1);this.Sd&&a.uniform2f(this.Sd,0,0);this.Rd&&a.uniform2f(this.Rd,1,1);this.dd=!1}function f(a,n){this.type=
a;this.C=n;this.m=n.m;this.Ub=this.qb=this.Bj=0;this.r=this.vd=null;this.Oh=[]}function h(a){--a;for(var n=1;32>n;n<<=1)a|=a>>n;return a+1}c.prototype.Ti=function(){var a=this.m,n;this.gj=1;this.Od=null;this.xi=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.hj=a.ONE;this.ej=a.ONE_MINUS_SRC_ALPHA;this.uh=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.uh);this.hf=Array(4);this.ef=Array(4);
for(n=0;4>n;n++)this.hf[n]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.hf[n]),this.ef[n]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.ef[n]);this.gc=0;this.km=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.km);this.ei=new Float32Array(16E3);this.Xh=new Float32Array(16E3);this.Jm=new Float32Array(32E3);for(var b=new Uint16Array(12E3),e=n=0;12E3>n;)b[n++]=e,b[n++]=e+1,b[n++]=e+2,b[n++]=e,b[n++]=e+2,b[n++]=e+3,e+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,b,a.STATIC_DRAW);this.vh=this.ac=
0;this.ma=[];n=this.Cg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.ma.push(n);n=this.Cg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ma.push(n);for(var k in bb)bb.hasOwnProperty(k)&&this.ma.push(this.Cg(bb[k],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",
k));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.yc=[];this.fc=0;this.Qa=!1;this.yi=this.Oe=-1;this.ue=null;this.Al=a.createFramebuffer();this.Nj=null;this.Nc=Ya([0,0,0]);this.Yb(0)};c.prototype.Cg=function(a,b,d){var e=this.m,k=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(k,a.src);e.compileShader(k);if(!e.getShaderParameter(k,e.COMPILE_STATUS))return e.deleteShader(k),null;var c=e.createShader(e.VERTEX_SHADER);e.shaderSource(c,b);e.compileShader(c);if(!e.getShaderParameter(c,
e.COMPILE_STATUS))return e.deleteShader(k),e.deleteShader(c),null;b=e.createProgram();e.attachShader(b,k);e.attachShader(b,c);e.linkProgram(b);if(!e.getProgramParameter(b,e.LINK_STATUS))return e.deleteShader(k),e.deleteShader(c),e.deleteProgram(b),null;e.useProgram(b);e.deleteShader(k);e.deleteShader(c);d=new l(e,b,d);d.Ig=a.Ig||0;d.Jg=a.Jg||0;d.wi=!!a.wi;d.ki=!!a.ki;d.n=a.n||[];a=0;for(k=d.n.length;a<k;a++)d.n[a][1]=e.getUniformLocation(b,d.n[a][0]),e.uniform1f(d.n[a][1],0);return d};c.prototype.Ug=
function(a){var b,d;b=0;for(d=this.ma.length;b<d;b++)if(this.ma[b].name===a)return b;return-1};c.prototype.Ij=function(a,b,d){var e=[0,0,this.width,this.height],k=this.ob,c=this.qh,g=[0,0,0,0,0,0,0,0];g[0]=k[0]*a+k[4]*b+k[12];g[1]=k[1]*a+k[5]*b+k[13];g[2]=k[2]*a+k[6]*b+k[14];g[3]=k[3]*a+k[7]*b+k[15];g[4]=c[0]*g[0]+c[4]*g[1]+c[8]*g[2]+c[12]*g[3];g[5]=c[1]*g[0]+c[5]*g[1]+c[9]*g[2]+c[13]*g[3];g[6]=c[2]*g[0]+c[6]*g[1]+c[10]*g[2]+c[14]*g[3];g[7]=-g[2];0!==g[7]&&(g[7]=1/g[7],g[4]*=g[7],g[5]*=g[7],g[6]*=
g[7],d[0]=(0.5*g[4]+0.5)*e[2]+e[0],d[1]=(0.5*g[5]+0.5)*e[3]+e[1])};c.prototype.Mh=function(a,b,d){if(this.width!==a||this.height!==b||d){this.Zc();this.width=a;this.height=b;this.m.viewport(0,0,a,b);b=a/b;var e=this.qh,k;k=1*Math.tan(45*Math.PI/360);b*=k;a=-b;d=-k;e||(e=Y());var c=b-a,g=k-d;e[0]=2/c;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=2/g;e[6]=0;e[7]=0;e[8]=(b+a)/c;e[9]=(k+d)/g;e[10]=-1001/999;e[11]=-1;e[12]=0;e[13]=0;e[14]=-2E3/999;e[15]=0;ab(this.qi,this.pj,this.jk,this.ob);a=[0,0];b=[0,0];this.Ij(0,
0,a);this.Ij(1,1,b);this.fi[0]=1/(b[0]-a[0]);this.fi[1]=-1/(b[1]-a[1]);a=0;for(b=this.ma.length;a<b;a++)d=this.ma[a],d.dd=!1,d.nj&&(this.m.useProgram(d.bf),this.m.uniformMatrix4fv(d.nj,!1,this.qh));this.m.useProgram(this.ma[this.Oe].bf);this.m.bindTexture(this.m.TEXTURE_2D,null);this.Od=null}};c.prototype.Hc=function(){ab(this.qi,this.pj,this.jk,this.ob);$a(this.ob,this.fi)};c.prototype.translate=function(a,b){if(0!==a||0!==b){this.Nc[0]=a;this.Nc[1]=b;this.Nc[2]=0;var d=this.ob,e=this.Nc,k=e[0],
c=e[1],e=e[2];d[12]=d[0]*k+d[4]*c+d[8]*e+d[12];d[13]=d[1]*k+d[5]*c+d[9]*e+d[13];d[14]=d[2]*k+d[6]*c+d[10]*e+d[14];d[15]=d[3]*k+d[7]*c+d[11]*e+d[15]}};c.prototype.scale=function(a,b){if(1!==a||1!==b)this.Nc[0]=a,this.Nc[1]=b,this.Nc[2]=1,$a(this.ob,this.Nc)};c.prototype.Oj=function(a){if(0!==a){var b=this.ob,d,e=Math.sin(a);a=Math.cos(a);var k=b[0],c=b[1],g=b[2],p=b[3],q=b[4],t=b[5],m=b[6],y=b[7];d?b!==d&&(d[8]=b[8],d[9]=b[9],d[10]=b[10],d[11]=b[11],d[12]=b[12],d[13]=b[13],d[14]=b[14],d[15]=b[15]):
d=b;d[0]=k*a+q*e;d[1]=c*a+t*e;d[2]=g*a+m*e;d[3]=p*a+y*e;d[4]=k*-e+q*a;d[5]=c*-e+t*a;d[6]=g*-e+m*a;d[7]=p*-e+y*a}};c.prototype.Oc=function(){for(var a=!1,b=0;16>b;b++)if(this.fj[b]!==this.ob[b]){a=!0;break}a&&(a=this.Gb(),a.type=5,a.r?Za(this.ob,a.r):a.r=Y(this.ob),Za(this.ob,this.fj),this.Qa=!1)};f.prototype.Yk=function(){this.m.bindTexture(this.m.TEXTURE_2D,this.vd)};f.prototype.Vk=function(){var a=this.Bj,b=this.C;b.xi=a;b=b.ue;b.Ud&&this.m.uniform1f(b.Ud,a)};f.prototype.Sk=function(){this.m.drawElements(this.m.TRIANGLES,
this.Ub,this.m.UNSIGNED_SHORT,2*this.qb)};f.prototype.Uk=function(){this.m.blendFunc(this.qb,this.Ub)};f.prototype.Zk=function(){var a,b,d,e=this.C.ma,k=this.C.yi;a=0;for(b=e.length;a<b;a++)d=e[a],a===k&&d.Td?(this.m.uniformMatrix4fv(d.Td,!1,this.r),d.dd=!0):d.dd=!1;Za(this.r,this.C.Dg)};f.prototype.Tk=function(){var a=this.m,b=this.C;this.vd?(a.bindFramebuffer(a.FRAMEBUFFER,b.Al),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.vd,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,
a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};f.prototype.Qk=function(){var a=this.m;0===this.qb?(a.clearColor(this.r[0],this.r[1],this.r[2],this.r[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.r[0],this.r[1],this.r[2],this.r[3]),a.clearColor(0,0,0,0),a.clear(this.m.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};f.prototype.Rk=function(){var a=this.m,b=this.C,d=b.ma[1];a.useProgram(d.bf);!d.dd&&d.Td&&(a.uniformMatrix4fv(d.Td,!1,b.Dg),d.dd=
!0);a.enableVertexAttribArray(d.nb);a.bindBuffer(a.ARRAY_BUFFER,b.uh);a.vertexAttribPointer(d.nb,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.qb/4,this.Ub);d=b.ue;a.useProgram(d.bf);0<=d.nb&&(a.enableVertexAttribArray(d.nb),a.bindBuffer(a.ARRAY_BUFFER,b.hf[b.gc]),a.vertexAttribPointer(d.nb,2,a.FLOAT,!1,0,0));0<=d.Ec&&(a.enableVertexAttribArray(d.Ec),a.bindBuffer(a.ARRAY_BUFFER,b.ef[b.gc]),a.vertexAttribPointer(d.Ec,2,a.FLOAT,!1,0,0))};f.prototype.Wk=function(){var a=this.m,b=this.C,d=b.ma[this.qb];
b.yi=this.qb;b.ue=d;a.useProgram(d.bf);!d.dd&&d.Td&&(a.uniformMatrix4fv(d.Td,!1,b.Dg),d.dd=!0);d.Ud&&a.uniform1f(d.Ud,b.xi);0<=d.nb&&(a.enableVertexAttribArray(d.nb),a.bindBuffer(a.ARRAY_BUFFER,b.hf[b.gc]),a.vertexAttribPointer(d.nb,2,a.FLOAT,!1,0,0));0<=d.Ec&&(a.enableVertexAttribArray(d.Ec),a.bindBuffer(a.ARRAY_BUFFER,b.ef[b.gc]),a.vertexAttribPointer(d.Ec,2,a.FLOAT,!1,0,0))};f.prototype.Xk=function(){var a,b,d=this.C.ue,e=this.m;d.Sf&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.vd),
e.activeTexture(e.TEXTURE0));d.nh&&e.uniform1f(d.nh,this.r[0]);d.mh&&e.uniform1f(d.mh,this.r[1]);d.Sd&&e.uniform2f(d.Sd,this.r[2],this.r[3]);d.Rd&&e.uniform2f(d.Rd,this.r[4],this.r[5]);d.lh&&e.uniform1f(d.lh,this.r[6]);d.oh&&e.uniform1f(d.oh,ya()/1E3);if(d.n.length)for(a=0,b=d.n.length;a<b;a++)e.uniform1f(d.n[a][1],this.Oh[a])};c.prototype.Gb=function(){this.fc===this.yc.length&&this.yc.push(new f(0,this));return this.yc[this.fc++]};c.prototype.Zc=function(){if(0!==this.fc&&!this.m.isContextLost()){var a=
this.m;0<this.vh&&(a.bindBuffer(a.ARRAY_BUFFER,this.uh),a.bufferData(a.ARRAY_BUFFER,this.Jm.subarray(0,this.vh),a.STREAM_DRAW),b&&0<=b.nb&&"<point>"===b.name&&a.vertexAttribPointer(b.nb,4,a.FLOAT,!1,0,0));if(0<this.ac){var b=this.ue;a.bindBuffer(a.ARRAY_BUFFER,this.hf[this.gc]);a.bufferData(a.ARRAY_BUFFER,this.ei.subarray(0,this.ac),a.STREAM_DRAW);b&&0<=b.nb&&"<point>"!==b.name&&a.vertexAttribPointer(b.nb,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.ef[this.gc]);a.bufferData(a.ARRAY_BUFFER,
this.Xh.subarray(0,this.ac),a.STREAM_DRAW);b&&0<=b.Ec&&"<point>"!==b.name&&a.vertexAttribPointer(b.Ec,2,a.FLOAT,!1,0,0)}for(var d,a=0,b=this.fc;a<b;a++)switch(d=this.yc[a],d.type){case 1:d.Sk();break;case 2:d.Yk();break;case 3:d.Vk();break;case 4:d.Uk();break;case 5:d.Zk();break;case 6:d.Tk();break;case 7:d.Qk();break;case 8:d.Rk();break;case 9:d.Wk();break;case 10:d.Xk()}this.vh=this.ac=this.fc=0;this.Qa=!1;this.gc++;4<=this.gc&&(this.gc=0)}};c.prototype.Ze=function(a){if(a!==this.gj){var b=this.Gb();
b.type=3;this.gj=b.Bj=a;this.Qa=!1}};c.prototype.Ib=function(a){if(a!==this.Od){var b=this.Gb();b.type=2;this.Od=b.vd=a;this.Qa=!1}};c.prototype.Ic=function(a,b){if(a!==this.hj||b!==this.ej){var d=this.Gb();d.type=4;d.qb=a;d.Ub=b;this.hj=a;this.ej=b;this.Qa=!1}};c.prototype.Sj=function(){this.Ic(this.m.ONE,this.m.ONE_MINUS_SRC_ALPHA)};c.prototype.Zf=function(a,b,d,e,k,c,g,p){15992<=this.ac&&this.Zc();var q=this.ac,t=this.ei,m=this.Xh;if(this.Qa)this.yc[this.fc-1].Ub+=6;else{var y=this.Gb();y.type=
1;y.qb=3*(q/4);y.Ub=6;this.Qa=!0}t[q]=a;m[q++]=0;t[q]=b;m[q++]=0;t[q]=d;m[q++]=1;t[q]=e;m[q++]=0;t[q]=k;m[q++]=1;t[q]=c;m[q++]=1;t[q]=g;m[q++]=0;t[q]=p;m[q++]=1;this.ac=q};c.prototype.rd=function(a,b,d,e,k,c,g,p,q){15992<=this.ac&&this.Zc();var t=this.ac,m=this.ei,y=this.Xh;if(this.Qa)this.yc[this.fc-1].Ub+=6;else{var C=this.Gb();C.type=1;C.qb=3*(t/4);C.Ub=6;this.Qa=!0}m[t]=a;y[t++]=q.left;m[t]=b;y[t++]=q.top;m[t]=d;y[t++]=q.right;m[t]=e;y[t++]=q.top;m[t]=k;y[t++]=q.right;m[t]=c;y[t++]=q.bottom;m[t]=
g;y[t++]=q.left;m[t]=p;y[t++]=q.bottom;this.ac=t};c.prototype.Yb=function(a){if(this.Oe!==a){if(!this.ma[a]){if(0===this.Oe)return;a=0}var b=this.Gb();b.type=9;this.Oe=b.qb=a;this.Qa=!1}};c.prototype.Ve=function(a){a=this.ma[a];return!(!a.Sd&&!a.Rd)};c.prototype.wh=function(a){return this.ma[a].wi};c.prototype.Nm=function(a){a=this.ma[a];return 0!==a.Ig||0!==a.Jg};c.prototype.Ol=function(a){return this.ma[a].Ig};c.prototype.Pl=function(a){return this.ma[a].Jg};c.prototype.Ql=function(a,b){return this.ma[a].n[b][2]};
c.prototype.Yf=function(a){return this.ma[a].ki};c.prototype.de=function(a,b,d,e,k,c,g,p,q){var t=this.ma[this.Oe];if(t.nh||t.mh||t.oh||t.Sf||t.Sd||t.Rd||t.lh||q.length){t=this.Gb();t.type=10;t.r?Za(this.ob,t.r):t.r=Y();t.r[0]=b;t.r[1]=d;t.r[2]=e;t.r[3]=k;t.r[4]=c;t.r[5]=g;t.r[6]=p;t.vd=a;if(q.length)for(t.Oh.length=q.length,a=0,b=q.length;a<b;a++)t.Oh[a]=q[a];this.Qa=!1}};c.prototype.clear=function(a,b,d,e){var k=this.Gb();k.type=7;k.qb=0;k.r||(k.r=Y());k.r[0]=a;k.r[1]=b;k.r[2]=d;k.r[3]=e;this.Qa=
!1};c.prototype.clearRect=function(a,b,d,e){var k=this.Gb();k.type=7;k.qb=1;k.r||(k.r=Y());k.r[0]=a;k.r[1]=b;k.r[2]=d;k.r[3]=e;this.Qa=!1};c.prototype.Mm=function(){this.Zc();this.m.flush()};var b=[],d={};c.prototype.mj=function(a,c,f){var e;e=!1;c=!!c;var k=a.src+","+e+","+c+(e?",undefined":""),r=null;if("undefined"!==typeof a.src&&d.hasOwnProperty(k))return r=d[k],r.qf++,r;this.Zc();var g=this.m,p=ba(a.width)&&ba(a.height),r=g.createTexture();g.bindTexture(g.TEXTURE_2D,r);g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);var q=g.RGBA,t=g.RGBA,m=g.UNSIGNED_BYTE;if(f)switch(f){case 1:t=q=g.RGB;break;case 2:m=g.UNSIGNED_SHORT_4_4_4_4;break;case 3:m=g.UNSIGNED_SHORT_5_5_5_1;break;case 4:t=q=g.RGB,m=g.UNSIGNED_SHORT_5_6_5}!p&&e?(f=document.createElement("canvas"),f.width=h(a.width),f.height=h(a.height),f.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,f.width,f.height),g.texImage2D(g.TEXTURE_2D,0,q,t,m,f)):g.texImage2D(g.TEXTURE_2D,0,q,t,m,a);e?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_WRAP_T,g.REPEAT)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE));c?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR),p?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR_MIPMAP_LINEAR),g.generateMipmap(g.TEXTURE_2D)):g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,
g.NEAREST));g.bindTexture(g.TEXTURE_2D,null);this.Od=null;r.pe=a.width;r.oe=a.height;r.qf=1;r.oi=k;b.push(r);return d[k]=r};c.prototype.Ac=function(a,d,c){this.Zc();var e=this.m,k=e.createTexture();e.bindTexture(e.TEXTURE_2D,k);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,d,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,c?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_MIN_FILTER,c?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.Od=null;k.pe=a;k.oe=d;b.push(k);return k};c.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.qf&&1<a.qf?a.qf--:(this.Zc(),this.m.bindTexture(this.m.TEXTURE_2D,null),this.Od=null,R(b,a),"undefined"!==typeof a.oi&&delete d[a.oi],this.m.deleteTexture(a)))};c.prototype.rc=function(a){if(a!==this.Nj){var b=this.Gb();b.type=6;this.Nj=b.vd=a;this.Qa=!1}};Ha=c})();
(function(){function c(g){if(g&&(g.getContext||g.dc)&&!g.c2runtime){g.c2runtime=this;var a=this;this.$i="undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.hd=!!g.dc;this.om="undefined"!==typeof window.AppMobi||this.hd;if(this.lc=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){a.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){a.setSuspended(!1)});this.Cb=this.hd||this.lc;
this.Hf=/tizen/i.test(navigator.userAgent);this.Yi=/android/i.test(navigator.userAgent)&&!this.Hf;this.Lf=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.cj=/ipad/i.test(navigator.userAgent);this.bj=this.Lf||this.cj;this.qm=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.um=/windows/i.test(navigator.userAgent);this.He="undefined"!==typeof window.c2nodewebkit;this.vm=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.wm=
!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.pm=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.devicePixelRatio=1;this.Ld=this.$i||this.om||this.lc||this.Yi||this.bj||this.wm||this.pm||this.Hf;this.Ld||(this.Ld=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.He||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||
(this.He=!0);this.rm="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=g;this.ri=document.getElementById("c2canvasdiv");this.O=this.C=this.m=null;this.canvas.oncontextmenu=function(g){g.preventDefault&&g.preventDefault();return!1};this.canvas.onselectstart=function(g){g.preventDefault&&g.preventDefault();return!1};this.hd&&(window.c2runtime=this);this.He&&(window.Go=function(g){g.preventDefault();return!1},window.Ho=function(g){g.preventDefault();return!1});
this.width=g.width;this.height=g.height;this.kj=this.width;this.jj=this.height;this.U=!0;this.Je=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.i=[];this.R=[];this.ih={};this.Fb=[];this.Hg={};this.$c=[];this.Qc=[];this.mg=[];this.Fk=[];this.Gk=[];this.Ob=new U;this.bh=!1;this.mc=0;this.eh=!1;this.eb=[];this.oc=this.Da=this.Qf=this.Jh="";this.df=this.Wj=!1;this.Bg=this.Re=this.Bc=this.Gd=0;this.he=1;this.jd=new za;this.Nf=0;this.qj=!0;this.Vf=this.Cf=this.yf=
this.ff=this.Pe=this.Lg=0;this.zg=null;this.uf=[];this.Gg=[];this.wf=-1;this.ph=[[]];this.ai=this.Tf=0;this.yh(null);this.xe=this.wj=this.Te=0;this.hg=[];this.Yh=this.Ah=0;this.Mf=!0;this.Rf=0;this.Ge=!1;this.an=0;this.rh=new U;this.yj=new U;this.Mj=[];this.ud=new Ba([]);this.Wh=new Ba([]);this.Cd=[];this.kf={};this.Ed={};this.Bd={};this.je={};this.mi={};this.Eb=this.ib=this.lj=this.Of=this.X=null;this.ie=this.gh=!1;this.Mg=[null,null];this.bd=0;this.nd={};this.fg=this.Qd=null;this.load();this.devicePixelRatio=
(this.Ie=!this.Cb&&this.hn&&(this.bj||this.Hf))?window.devicePixelRatio||1:1;this.xa();var b;"undefined"!==typeof jQuery&&0<this.lb&&this.setSize(jQuery(window).width(),jQuery(window).height());try{if(this.al&&(this.lc||!this.Cb)){b={depth:!1,antialias:!this.Ld};var d=!0;if(this.qm&&this.um){var m=document.createElement("canvas");"OES_texture_float,OES_standard_derivatives,WEBKIT_WEBGL_lose_context"===(m.getContext("webgl",b)||m.getContext("experimental-webgl",b)).getSupportedExtensions().toString()&&
(d=!1)}d&&(this.m=g.getContext("webgl",b)||g.getContext("experimental-webgl",b))}}catch(k){}if(this.m){this.Cb||(this.Ia=document.createElement("canvas"),jQuery(this.Ia).appendTo(this.canvas.parentNode),this.Ia.oncontextmenu=G(!1),this.Ia.onselectstart=G(!1),this.Ia.width=g.width,this.Ia.height=g.height,this.Fj(),this.th=this.Ia.getContext("2d"));this.C=new Ha(this.m,this.Ld);this.C.Mh(g.width,g.height);this.O=null;this.canvas.addEventListener("webglcontextlost",function(g){g.preventDefault();a.Cm();
window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.C.Ti();a.C.Mh(a.C.width,a.C.height,!0);a.ib=null;a.Eb=null;a.Mg[0]=null;a.Mg[1]=null;a.Dm();a.U=!0;window.cr_setSuspended(!1)},!1);var e,c,n,h,f;g=0;for(b=this.i.length;g<b;g++)for(e=this.i[g],d=0,m=e.u.length;d<m;d++)n=e.u[d],n.wa=this.C.Ug(n.id),this.ie=this.ie||this.C.Ve(n.wa);g=0;for(b=this.Fb.length;g<b;g++){h=this.Fb[g];d=0;for(m=h.u.length;d<m;d++)n=h.u[d],n.wa=this.C.Ug(n.id);d=0;for(m=h.J.length;d<
m;d++)for(f=h.J[d],e=0,c=f.u.length;e<c;e++)n=f.u[e],n.wa=this.C.Ug(n.id),this.ie=this.ie||this.C.Ve(n.wa)}}else{if(0<this.lb&&this.hd){this.canvas=null;document.oncontextmenu=G(!1);document.onselectstart=G(!1);this.O=AppMobi.canvas.getContext("2d");try{this.O.samplingMode=this.ea?"smooth":"sharp",this.O.globalScale=1,this.O.HTML5CompatibilityMode=!0,this.O.imageSmoothingEnabled=this.ea}catch(r){}0!==this.width&&0!==this.height&&(this.O.width=this.width,this.O.height=this.height)}this.O||(this.lc?
(b={antialias:!!this.ea},this.O=g.getContext("2d",b)):this.O=g.getContext("2d"),this.O.webkitImageSmoothingEnabled=this.ea,this.O.mozImageSmoothingEnabled=this.ea,this.O.msImageSmoothingEnabled=this.ea,this.O.imageSmoothingEnabled=this.ea);this.th=this.Ia=null}this.ak=function(){a.$b()};window==window.top||this.Cb||this.vm||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&
(this.lc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(I("Reloading for continuous preview"),this.Qf="__c2_continuouspreview",this.df=!0),this.Im&&!this.Ld&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));this.go();this.W={}}}function l(g){g.target.result.createObjectStore("saves",{keyPath:"slot"})}function f(g,a,b,d){var m=indexedDB.open("_C2SaveStates");m.onupgradeneeded=
l;m.onerror=d;m.onsuccess=function(m){m=m.target.result;m.onerror=d;m.transaction(["saves"],"readwrite").objectStore("saves").put({slot:g,data:a}).onsuccess=b}}function h(g,a,b){var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=l;d.onerror=b;d.onsuccess=function(m){m=m.target.result;m.onerror=b;var d=m.transaction(["saves"]).objectStore("saves").get(g);d.onsuccess=function(){d.result?a(d.result.data):a(null)}}}function b(){I("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():
-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function d(g){var a,b={};for(a in g)!g.hasOwnProperty(a)||g[a]instanceof U||"undefined"===typeof g[a].Ao&&(b[a]=g[a]);return b}c.prototype.setSize=function(g,a){var b=this.im&&this.Lf&&!navigator.standalone&&!this.Cb&&!this.$i,d=0;b&&(this.Lf?d=60:this.Yi&&(d=56),a+=d);var m=0,k=0,e=0,c=0,n=0,n=this.lb,h=document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||
this.Ge;h&&0<this.bd&&(n=this.bd);4<=n?(e=this.Va/this.Ua,g/a>e?(e*=a,5===n?(n=e/this.Va,1<n?n=Math.floor(n):1>n&&(n=1/Math.ceil(1/n)),e=this.Va*n,c=this.Ua*n,m=(g-e)/2,k=(a-c)/2,g=e,a=c):(m=(g-e)/2,g=e)):(c=g/e,5===n?(n=c/this.Ua,1<n?n=Math.floor(n):1>n&&(n=1/Math.ceil(1/n)),e=this.Va*n,c=this.Ua*n,m=(g-e)/2,k=(a-c)/2,g=e):k=(a-c)/2,a=c),h&&!this.He&&(k=m=0),m=Math.floor(m),k=Math.floor(k),g=Math.floor(g),a=Math.floor(a)):this.He&&this.Ge&&0===this.Ji&&(m=Math.floor((g-this.Va)/2),k=Math.floor((a-
this.Ua)/2),g=this.Va,a=this.Ua);this.Ie&&this.cj&&1<this.devicePixelRatio&&(1024<=g&&(g=1023),1024<=a&&(a=1023));h=this.devicePixelRatio;this.width=g*h;this.height=a*h;this.U=!0;this.ri&&!this.Cb&&(jQuery(this.ri).css({width:g+"px",height:a+"px","margin-left":m,"margin-top":k}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:g+"px",height:a+"px"}));this.canvas&&(this.canvas.width=g*h,this.canvas.height=a*h,this.Ie&&jQuery(this.canvas).css({width:g+"px",height:a+"px"}));this.Ia&&
(this.Ia.width=g,this.Ia.height=a);this.C&&this.C.Mh(g,a);this.hd&&this.O&&(this.O.width=g,this.O.height=a);this.O&&(this.O.webkitImageSmoothingEnabled=this.ea,this.O.mozImageSmoothingEnabled=this.ea,this.O.msImageSmoothingEnabled=this.ea,this.O.imageSmoothingEnabled=this.ea);b&&0<d&&window.setTimeout(function(){window.scrollTo(0,1)},100)};c.prototype.Cm=function(){this.gh=!0;var g,a,b;g=0;for(a=this.i.length;g<a;g++)b=this.i[g],b.zj&&b.zj()};c.prototype.Dm=function(){this.gh=!1;var g,a,b;g=0;for(a=
this.i.length;g<a;g++)b=this.i[g],b.Aj&&b.Aj()};c.prototype.Fj=function(){if(!this.Cb){var g=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Ge?jQuery(this.canvas).offset():jQuery(this.canvas).position();g.position="absolute";jQuery(this.Ia).css(g)}};var a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;c.prototype.setSuspended=function(g){var b;
if(g&&!this.Je)for(I("[Construct 2] Suspending"),this.Je=!0,0!==this.Ah&&a&&a(this.Ah),0!==this.Yh&&clearTimeout(this.Yh),g=0,b=this.hg.length;g<b;g++)this.hg[g](!0);else if(!g&&this.Je){I("[Construct 2] Resuming");this.Je=!1;this.Nf=ya();this.Pe=ya();g=this.Re=this.Cf=0;for(b=this.hg.length;g<b;g++)this.hg[g](!1);this.$b()}};c.prototype.load=function(){var g=cb();this.name=g[0];this.Ii=g[1];this.lb=g[11];this.Ji=g[11];this.Cb&&(4<=g[11]||0===g[11])&&(I("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Ji=this.lb=3);this.ci=g[17];this.Qe=g[18];0===this.Qe&&(this.Qd=new Image,this.Qd.src="loading-logo.png");this.Te=g[20];this.Zb=new Z(this);var a,b,d,m,k,e,c,n,h;a=0;for(b=g[2].length;a<b;a++)c=g[2][a],db(c),h=new c[0](this),h.Uh=c[1],h.Dc=c[2],h.uj=c[9],h.ja&&h.ja(),this.plugins.push(h);g=cb();a=0;for(b=g[3].length;a<b;a++){c=g[3][a];k=c[1];h=null;d=0;for(m=this.plugins.length;d<m;d++)if(this.plugins[d]instanceof k){h=this.plugins[d];break}var f=new h.xb(h);f.name=c[0];f.I=c[2];f.ah=c[3].slice(0);
f.kn=c[3].length;f.Hk=c[4];f.Cl=c[5];f.D=c[11];f.I?(f.rj=[],f.Sb=this.xe++,f.T=null):(f.rj=null,f.Sb=-1,f.T=[]);f.zf=null;f.Id=null;f.Ei=null;f.Db=!1;f.Ha=null;c[6]?(f.Zj=c[6][0],f.$j=c[6][1],f.cn=c[6][2]):(f.Zj=null,f.$j=0,f.cn=0);f.La=c[7]?c[7]:null;f.index=a;f.d=[];f.tf=[];f.Lc=[new Ia(f)];f.hc=0;f.Pb=null;f.fe=!0;f.ng=eb;f.Gl=fb;f.Nl=gb;f.Y=hb;f.We=ib;f.xh=jb;f.be=kb;f.Df=lb;f.Og=mb;f.Rg=nb;f.nf=ob;f.W={};f.toString=pb;f.R=[];d=0;for(m=c[8].length;d<m;d++){n=c[8][d];var r=n[1],l=null;k=0;for(e=
this.R.length;k<e;k++)if(this.R[k]instanceof r){l=this.R[k];break}l||(l=new r(this),l.Xd=new U,l.ja&&l.ja(),this.R.push(l));k=new l.xb(l,f);k.name=n[0];k.D=n[2];k.ja();f.R.push(k)}f.global=c[9];f.dh=c[10];f.u=[];d=0;for(m=c[12].length;d<m;d++)f.u.push({id:c[12][d][0],name:c[12][d][1],wa:-1,cc:!0,index:d});this.ci&&!f.I&&!f.dh&&h.Dc||f.ja();f.name&&(this.types[f.name]=f);this.i.push(f);h.Uh&&(d=new h.Ka(f),d.uid=this.Te++,d.Kj=this.wj++,d.ed=0,d.Ae=qb,d.toString=rb,d.va=c[13],d.ja(),f.d.push(d),this.nd[d.uid.toString()]=
d)}a=0;for(b=g[4].length;a<b;a++)for(k=g[4][a],e=this.i[k[0]],d=1,m=k.length;d<m;d++)c=this.i[k[d]],c.T.push(e),e.rj.push(c);a=0;for(b=g[22].length;a<b;a++){k=g[22][a];e=[];d=0;for(m=k.length;d<m;d++)e.push(this.i[k[d]]);d=0;for(m=e.length;d<m;d++)e[d].Db=!0,e[d].Ha=e}if(0<this.xe)for(a=0,b=this.i.length;a<b;a++)if(c=this.i[a],!c.I&&c.T.length){c.zf=Array(this.xe);c.Id=Array(this.xe);c.Ei=Array(this.xe);f=[];d=l=r=n=0;for(m=c.T.length;d<m;d++)for(h=c.T[d],c.zf[h.Sb]=n,n+=h.kn,c.Id[h.Sb]=r,r+=h.Hk,
c.Ei[h.Sb]=l,l+=h.Cl,k=0,e=h.u.length;k<e;k++)f.push(ha({},h.u[k]));c.u=f.concat(c.u);d=0;for(m=c.u.length;d<m;d++)c.u[d].index=d}a=0;for(b=g[5].length;a<b;a++)c=g[5][a],d=new Ja(this,c),this.ih[d.name]=d,this.Fb.push(d);a=0;for(b=g[6].length;a<b;a++)c=g[6][a],d=new Ka(this,c),this.Hg[d.name]=d,this.$c.push(d);a=0;for(b=this.$c.length;a<b;a++)this.$c[a].ba();a=0;for(b=this.mg.length;a<b;a++)this.mg[a].ba();this.mg.length=0;this.ae=g[8];this.Va=g[9];this.Ua=g[10];this.of=1;this.al=g[12];this.ea=g[13];
this.ti=g[14];a=g[16];2===a&&(a=this.Lf?1:0);this.hn=0!==a;this.im=g[19];this.Im=g[21];this.gg=Date.now()};c.prototype.Bl=function(g){var a,b;a=0;for(b=this.Qc.length;a<b;a++)if(this.Qc[a].Lk===g)return this.Qc[a];return null};c.prototype.li=function(){var g=0,a=0,b=!0,d,m;d=0;for(m=this.Qc.length;d<m;d++){var k=this.Qc[d].Kk;if(!k||0>=k)k=5E4;g+=k;this.Qc[d].complete||this.Qc[d].loaded?a+=k:b=!1}this.qd=0==g?0:a/g;return b};c.prototype.go=function(){if(this.O||this.C){var g=this.O||this.th;this.Ia&&
this.Fj();this.qd=0;this.ij=-1;if(this.li())this.gm();else{var a=Date.now()-this.gg,b=1;this.Hf&&(b=this.devicePixelRatio);if(g){if(3!==this.Qe&&500<=a&&this.ij!=this.qd){g.clearRect(0,0,this.width,this.height);var a=this.width/(2*b),b=this.height/(2*b),d=0===this.Qe&&this.Qd.complete,m=40,k=0,c=80;d&&(c=this.Qd.width,m=c/2,k=this.Qd.height/2,g.drawImage(this.Qd,O(a-m),O(b-k)));1>=this.Qe?(a=O(a-m)+0.5,b=O(b+(k+(d?12:0)))+0.5,g.fillStyle="DodgerBlue",g.fillRect(a,b,Math.floor(c*this.qd),6),g.strokeStyle=
"black",g.strokeRect(a,b,c,6),g.strokeStyle="white",g.strokeRect(a-1,b-1,c+2,8)):2===this.Qe&&(g.font="12pt Arial",g.fillStyle="#999",g.Jo="middle",d=Math.round(100*this.qd)+"%",m=g.measureText?g.measureText(d):null,g.fillText(d,a-(m?m.width:0)/2,b))}this.ij=this.qd}setTimeout(function(g){return function(){g.go()}}(this),100)}}};c.prototype.gm=function(){this.Ia&&(this.canvas.parentNode.removeChild(this.Ia),this.Ia=this.th=null);this.gg=Date.now();this.Pe=ya();var g,a,b;if(this.ci)for(g=0,a=this.i.length;g<
a;g++)b=this.i[g],b.I||b.dh||!b.Ja.Dc||b.ja();else this.Mf=!1;g=0;for(a=this.Fb.length;g<a;g++)this.Fb[g].Mk();2<=this.lb&&(g=this.Va/this.Ua,a=this.width/this.height,this.of=2!==this.lb&&a>g||2===this.lb&&a<g?this.height/this.Ua:this.width/this.Va);this.Ii?this.ih[this.Ii].Vh():this.Fb[0].Vh();this.ci||(this.Rf=1,this.trigger(Z.prototype.M.gi,null));this.$b();this.hd&&AppMobi.webview.execute("onGameReady();")};var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;c.prototype.$b=function(){if(this.X){var g=ya();if(!this.Cb&&window!=window.top){var a=this.lb;(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Ge)&&0<this.bd&&(a=this.bd);if(0<a){var a=window.innerWidth,b=window.innerHeight;if(this.kj!==a||this.jj!==b)this.kj=a,this.jj=b,this.setSize(a,b)}}this.Mf&&(a=this.li(),this.Rf=this.qd,a&&(this.Mf=!1,this.qd=1,this.trigger(Z.prototype.M.gi,
null)));this.Bm();!this.U&&!this.lc||this.gh||this.df||(this.U=!1,this.C?this.Qb():this.Yc(),this.fg&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.fg[0],this.fg[1]),this.trigger(Z.prototype.M.rk,null)),this.fg=null));this.Eo||(this.ff++,this.yf++,this.Cf++);this.Re+=ya()-g;this.Je||(n?this.Ah=n(this.ak,this.canvas):this.Yh=setTimeout(this.ak,this.Ld?1:16))}};c.prototype.Bm=function(){var g,a,b,d,m,k,c,e,n;g=ya();1E3<=g-this.Pe&&(this.Pe+=1E3,this.Lg=this.Cf,this.Cf=0,this.Bg=this.Re,
this.Re=0);this.qj&&(0!==this.Nf&&(a=g-this.Nf,0!==a||this.rm?(this.Bc=a/1E3,0.5<this.Bc?this.Bc=0:0.1<this.Bc&&(this.Bc=0.1)):(10<=this.Ko&&(this.qj=!1),this.Bc=1/60)),this.Nf=g);this.Gd=this.Bc*this.he;this.jd.add(this.Gd);g=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Ge;2<=this.lb||g&&0<this.bd?(a=this.Va/this.Ua,b=this.width/this.height,d=this.lb,g&&0<this.bd&&(d=this.bd),this.of=2!==d&&b>a||2===d&&b<a?this.height/this.Ua:this.width/
this.Va,this.X&&(this.X.Kh(this.X.scrollX),this.X.Lh(this.X.scrollY))):this.of=1;this.xa();this.mc++;this.Zb.Sm();this.mc--;this.xa();this.mc++;g=0;for(a=this.i.length;g<a;g++)if(c=this.i[g],!c.I&&(c.R.length||c.T.length))for(b=0,d=c.d.length;b<d;b++)for(e=c.d[b],m=0,k=e.H.length;m<k;m++)e.H[m].$b();g=0;for(a=this.i.length;g<a;g++)if(c=this.i[g],!c.I&&(c.R.length||c.T.length))for(b=0,d=c.d.length;b<d;b++)for(e=c.d[b],m=0,k=e.H.length;m<k;m++)n=e.H[m],n.Gj&&n.Gj();b=this.rh.xd();g=0;for(a=b.length;g<
a;g++)b[g].$b();this.mc--;this.hm();for(g=0;this.zg&&10>g++;)this.Ci(this.zg);g=0;for(a=this.$c.length;g<a;g++)this.$c[g].Vg=!1;this.X.vf&&this.X.vf.la();this.Mj.length=0;this.mc++;g=0;for(a=this.i.length;g<a;g++)if(c=this.i[g],!c.I&&(c.R.length||c.T.length))for(b=0,d=c.d.length;b<d;b++)for(e=c.d[b],m=0,k=e.H.length;m<k;m++)n=e.H[m],n.kg&&n.kg();b=this.yj.xd();g=0;for(a=b.length;g<a;g++)b[g].kg();this.mc--};c.prototype.Ci=function(a){var b=this.X;this.X.bn();var d,k,m,c,e,n,f;if(this.C)for(d=0,k=
this.i.length;d<k;d++)e=this.i[d],e.I||!e.ik||e.global&&0!==e.d.length||-1!==a.De.indexOf(e)||e.ik();b==a&&(this.Zb.$a.length=0);a.Vh();d=0;for(k=this.i.length;d<k;d++)if(e=this.i[d],e.global||e.Ja.Uh)for(a=0,b=e.d.length;a<b;a++)if(n=e.d[a],n.sh&&n.sh(),n.H)for(m=0,c=n.H.length;m<c;m++)f=n.H[m],f.sh&&f.sh();this.U=!0;this.xa()};c.prototype.bk=function(a){this.rh.add(a)};c.prototype.Pg=function(a){return a&&-1!==a.Se?this.Bc*a.Se:this.Gd};c.prototype.Yc=function(){this.X.Yc(this.O);this.hd&&this.O.present()};
c.prototype.Qb=function(){this.X.Qb(this.C);this.C.Mm()};c.prototype.Dk=function(a){a&&this.uf.push(a)};c.prototype.Qm=function(a){R(this.uf,a)};c.prototype.Tg=function(a){return this.nd[a.toString()]};c.prototype.zd=function(a){var b,d;if(!this.Ob.contains(a)){this.Ob.add(a);if(a.Db)for(b=0,d=a.siblings.length;b<d;b++)this.zd(a.siblings[b]);this.bh&&this.Ob.Pc.push(a);this.mc++;this.trigger(Object.getPrototypeOf(a.type.Ja).M.tk,a);this.mc--}};c.prototype.xa=function(){var a,b,d,k,m,c,e,n,f,h;this.bh=
!0;k=0;for(c=this.eb.length;k<c;k++)for(a=this.eb[k],b=a.type,b.d.push(a),m=0,e=b.T.length;m<e;m++)b.T[m].d.push(a),b.T[m].fe=!0;this.eb.length=0;c=this.Ob.xd();for(k=0;k<c.length;k++){a=c[k];b=a.type;d=b.d;m=0;for(e=this.uf.length;m<e;m++)this.uf[m](a);R(d,a);a.e&&(ia(a.e.d,a.gb()),a.e.ab=!0);m=0;for(e=b.T.length;m<e;m++)R(b.T[m].d,a),b.T[m].fe=!0;if(a.H)for(m=0,e=a.H.length;m<e;m++)d=a.H[m],d.Wf&&d.Wf(),d.G.Xd.remove(a);this.rh.remove(a);this.yj.remove(a);m=0;for(e=this.Zb.$a.length;m<e;m++)if(f=
this.Zb.$a[m],f.Wa.hasOwnProperty(b.index)&&R(f.Wa[b.index].gd,a),!b.I)for(d=0,n=b.T.length;d<n;d++)h=b.T[d],f.Wa.hasOwnProperty(h.index)&&R(f.Wa[h.index].gd,a);a.Wf&&a.Wf();this.nd.hasOwnProperty(a.uid.toString())&&delete this.nd[a.uid.toString()];this.Vf--;64>b.tf.length&&b.tf.push(a);b.fe=!0}this.Ob.Fe()||(this.U=!0);this.Ob.clear();this.bh=!1};var u=[];c.prototype.Wc=function(a,b,d,k,m,c){var e,n,f,h;if(!a)return null;var r=this.i[a[1]],l=r.Ja.Dc;if(this.Mf&&l&&!r.dh||l&&!this.C&&11===a[0][11])return null;
var A=b;l||(b=null);var s;r.tf.length?(s=r.tf.pop(),s.Hb=!0,r.Ja.Ka.call(s,r)):(s=new r.Ja.Ka(r),s.Hb=!1);s.uid=d&&!c?a[2]:this.Te++;this.nd[s.uid.toString()]=s;s.Kj=this.wj++;s.ed=r.d.length;e=0;for(n=this.eb.length;e<n;++e)this.eb[e].type===r&&s.ed++;s.Ae=qb;f=a[3];if(s.Hb)xa(s.W);else{s.W={};if("undefined"!==typeof cr_is_preview)for(s.Wi=[],s.Wi.length=f.length,e=0,n=f.length;e<n;e++)s.Wi[e]=f[e][1];s.ia=[];s.ia.length=f.length}e=0;for(n=f.length;e<n;e++)s.ia[e]=f[e][0];if(l){var v=a[0];s.x=aa(k)?
v[0]:k;s.y=aa(m)?v[1]:m;s.z=v[2];s.width=v[3];s.height=v[4];s.depth=v[5];s.j=v[6];s.opacity=v[7];s.Ra=v[8];s.Sa=v[9];s.Fa=v[10];e=v[11];!this.C&&r.u.length&&(s.Fa=e);s.re=Ca(s.Fa);this.m&&Ea(s,s.Fa,this.m);if(s.Hb){e=0;for(n=v[12].length;e<n;e++)for(f=0,h=v[12][e].length;f<h;f++)s.$[e][f]=v[12][e][f];s.F.set(0,0,0,0);s.cb.Nh(s.F);s.pf.length=0}else{s.$=v[12].slice(0);e=0;for(n=s.$.length;e<n;e++)s.$[e]=v[12][e].slice(0);s.L=[];s.uc=[];s.uc.length=r.u.length;s.F=new P(0,0,0,0);s.cb=new ga;s.pf=[];
s.q=sb;s.zo=tb;s.Nb=ub;s.Lb=vb;s.gb=wb}e=0;for(n=r.u.length;e<n;e++)s.uc[e]=!0;s.tc=xb;s.tc();s.mk=!!s.L.length;s.ug=!0;s.visible=!0;s.Se=-1;s.e=b;s.yd=b.d.length;"undefined"===typeof s.S&&(s.S=null);this.U=s.zc=!0}s.toString=rb;var x;e=u.length=0;for(n=r.T.length;e<n;e++)u.push.apply(u,r.T[e].R);u.push.apply(u,r.R);if(s.Hb)for(e=0,n=u.length;e<n;e++){var w=u[e];x=s.H[e];x.Hb=!0;w.G.Ka.call(x,w,s);v=a[4][e];f=0;for(h=v.length;f<h;f++)x.va[f]=v[f];x.ja();w.G.Xd.add(s)}else for(s.H=[],e=0,n=u.length;e<
n;e++)w=u[e],x=new w.G.Ka(w,s),x.Hb=!1,x.va=a[4][e].slice(0),x.ja(),s.H.push(x),w.G.Xd.add(s);v=a[5];if(s.Hb)for(e=0,n=v.length;e<n;e++)s.va[e]=v[e];else s.va=v.slice(0);this.eb.push(s);b&&b.d.push(s);this.Vf++;if(r.Db){if(s.Db=!0,s.Hb?s.siblings.length=0:s.siblings=[],!d&&!c){e=0;for(n=r.Ha.length;e<n;e++)if(r.Ha[e]!==r){if(!r.Ha[e].Pb)return null;s.siblings.push(this.Wc(r.Ha[e].Pb,A,!1,l?s.x:k,l?s.y:m,!0))}e=0;for(n=s.siblings.length;e<n;e++)for(s.siblings[e].siblings.push(s),f=0;f<n;f++)e!==f&&
s.siblings[e].siblings.push(s.siblings[f])}}else s.Db=!1,s.siblings=null;s.ja();e=0;for(n=s.H.length;e<n;e++)s.H[e].Lm&&s.H[e].Lm();return s};c.prototype.Kl=function(a){var b,d;b=0;for(d=this.X.J.length;b<d;b++){var e=this.X.J[b];if(Ga(e.name,a))return e}return null};c.prototype.Ll=function(a){a=O(a);0>a&&(a=0);a>=this.X.J.length&&(a=this.X.J.length-1);return this.X.J[a]};c.prototype.Ag=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].Y().ha=!0};c.prototype.We=function(a){var b,d;b=0;for(d=a.length;b<
d;b++)a[b].We()};c.prototype.xh=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].xh()};c.prototype.be=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].be()};c.prototype.Kb=function(a,b){if(!(a&&b&&a!==b&&a.zc&&b.zc))return!1;a.Lb();b.Lb();var d=a.e,e=b.e,m,k,c,n,f,h;if(d===e||d.od===e.od&&e.pd===e.pd&&d.scale===e.scale&&d.j===e.j&&d.jf===e.jf){if(!a.F.mm(b.F)||!a.cb.lm(b.cb))return!1;f=a.S&&!a.S.Ke();m=b.S&&!b.S.Ke();if(!f&&!m)return!0;f?(a.S.qe(a.width,a.height,a.j),f=a.S):(this.ud.cg(a.cb,
a.x,a.y,a.width,a.height),f=this.ud);m?(b.S.qe(b.width,b.height,b.j),h=b.S):(this.ud.cg(b.cb,b.x,b.y,b.width,b.height),h=this.ud);return f.Xi(h,b.x-a.x,b.y-a.y)}f=a.S&&!a.S.Ke();m=b.S&&!b.S.Ke();f?(a.S.qe(a.width,a.height,a.j),this.ud.Tj(a.S)):this.ud.cg(a.cb,a.x,a.y,a.width,a.height);f=this.ud;m?(b.S.qe(b.width,b.height,b.j),this.Wh.Tj(b.S)):this.Wh.cg(b.cb,b.x,b.y,b.width,b.height);h=this.Wh;m=0;for(k=f.pc;m<k;m++)c=f.za[2*m],n=f.za[2*m+1],f.za[2*m]=d.Ca(c+a.x,n+a.y,!0),f.za[2*m+1]=d.Ca(c+a.x,n+
a.y,!1);m=0;for(k=h.pc;m<k;m++)c=h.za[2*m],n=h.za[2*m+1],h.za[2*m]=e.Ca(c+b.x,n+b.y,!0),h.za[2*m+1]=e.Ca(c+b.x,n+b.y,!1);return f.Xi(h,0,0)};new ga;new P(0,0,0,0);c.prototype.fk=function(a,b){if(!b)return!1;var d,e,m,k,c;d=0;for(e=a.R.length;d<e;d++)if(a.R[d].G instanceof b)return!0;if(!a.I)for(d=0,e=a.T.length;d<e;d++)for(c=a.T[d],m=0,k=c.R.length;m<k;m++)if(c.R[m].G instanceof b)return!0;return!1};c.prototype.gk=function(a){return this.fk(a,Wa.Qn)};c.prototype.bi=function(a){return this.fk(a,Wa.Rn)};
c.prototype.Rl=function(){if(!yb)return null;var a,b;a=0;for(b=this.R.length;a<b;a++)if(this.R[a]instanceof yb)return this.R[a];return null};c.prototype.Xa=function(a){var b=this.Rl();if(!b)return null;var d,e,m=b.Xd.xd(),b=0;for(d=m.length;b<d;++b)if(e=m[b],e.W.$m&&this.Kb(a,e))return e;return null};var e=[];c.prototype.Mc=function(a,b){var d=null,k,m;if(!Wa.ym)return null;k=0;for(m=this.R.length;k<m;k++)if(this.R[k]instanceof Wa.ym){d=this.R[k];break}if(!d)return null;var c=null;b&&(c=e,c.length=
0);var n=d.Xd.xd();k=0;for(m=n.length;k<m;++k)if(d=n[k],d.W.Fo&&this.Kb(a,d))if(b)c.push(d);else return d;return c};c.prototype.Xb=function(a,b,d,e,m,k){e=e||50;var c=a.x,n=a.y,f,h=null,r=null;for(f=0;f<e;f++)if(a.x=c+b*f,a.y=n+d*f,a.q(),!this.Kb(a,h)&&((h=this.Xa(a))&&(r=h),!h&&(m&&(h=k?this.Kb(a,k)?k:null:this.Mc(a))&&(r=h),!h)))return r&&this.zh(a,b,d,r),!0;a.x=c;a.y=n;a.q();return!1};c.prototype.zh=function(a,b,d,e){var m=2,k,c=!1;k=!1;for(var n=a.x,f=a.y;16>=m;)k=1/m,m*=2,a.x+=b*k*(c?1:-1),a.y+=
d*k*(c?1:-1),a.q(),this.Kb(a,e)?k=c=!0:(k=c=!1,n=a.x,f=a.y);k&&(a.x=n,a.y=f,a.q())};c.prototype.Pm=function(a,b){var d=aa(b)?100:b,e=0,m=a.x,k=a.y,c=0,n=0,f=0,h=this.Xa(a);if(!h)return!0;for(;e<=d;){switch(c){case 0:n=0;f=-1;e++;break;case 1:n=1;f=-1;break;case 2:n=1;f=0;break;case 3:f=n=1;break;case 4:n=0;f=1;break;case 5:n=-1;f=1;break;case 6:n=-1;f=0;break;case 7:f=n=-1}c=(c+1)%8;a.x=O(m+n*e);a.y=O(k+f*e);a.q();if(!this.Kb(a,h)&&(h=this.Xa(a),!h))return!0}a.x=m;a.y=k;a.q();return!1};c.prototype.Xe=
function(a,b){a.zc&&b.zc&&this.Mj.push([a,b])};var k=[],r=-1;c.prototype.trigger=function(a,b,d){if(!this.X)return!1;var e=this.X.vf;if(!e)return!1;r++;r===k.length?k.push(new U):k[r].clear();a=this.dk(a,b,e,d);r--;return a};c.prototype.dk=function(a,b,d,e){var m=k[r];if(m.contains(d))return!1;m.add(d);var m=d.Si.xd(),c=!1,n,f,h;n=0;for(f=m.length;n<f;n++)m[n].nm()&&(h=this.dk(a,b,m[n].Ce,e),c=c||h);if(b)for(h=this.$h(a,b,b.type.name,d,e),c=c||h,n=0,f=b.type.T.length;n<f;n++)h=this.$h(a,b,b.type.T[n].name,
d,e),c=c||h;else h=this.$h(a,b,"system",d,e),c=c||h;return c};c.prototype.$h=function(a,b,d,e,m){var k,c=!1,n=!1,n="undefined"!==typeof m,f=(n?e.Gi:e.ek)[d];if(!f)return c;var h=null;e=0;for(k=f.length;e<k;e++)if(f[e].method==a){h=f[e].xf;break}if(!h)return c;a=n?h[m]:h;if(!a)return null;e=0;for(k=a.length;e<k;e++)m=a[e][0],n=a[e][1],n=this.zl(b,d,m,n),c=c||n;return c};c.prototype.zl=function(a,b,d,e){var m,k,c=!1;this.ai++;var n=this.fb().Bb;n&&this.We(n.Jc);var f=1<this.ai;this.We(d.Jc);f&&this.Om();
var h=this.yh(d);h.Bb=d;a&&(m=this.types[b].Y(),m.ha=!1,m.d.length=1,m.d[0]=a,this.types[b].nf());a=!0;if(d.parent){b=h.Yj;for(m=d.parent;m;)b.push(m),m=m.parent;b.reverse();m=0;for(k=b.length;m<k;m++)if(!b[m].Um()){a=!1;break}}a&&(this.yf++,d.Wb?d.Tm(e):d.la(),c=c||h.Pd);this.Ej();f&&this.Km();this.be(d.Jc);n&&this.be(n.Jc);0!==this.mc||0!==r||this.eh||this.Ob.Fe()&&!this.eb.length||this.xa();this.ai--;return c};c.prototype.Fl=function(){var a=this.fb();return a.Bb.aa[a.Ga]};c.prototype.Om=function(){this.Tf++;
this.Tf>=this.ph.length&&this.ph.push([])};c.prototype.Km=function(){this.Tf--};c.prototype.Li=function(){return this.ph[this.Tf]};c.prototype.yh=function(a){this.wf++;this.wf>=this.Gg.length&&this.Gg.push(new La);var b=this.fb();b.reset(a);return b};c.prototype.Ej=function(){this.wf--};c.prototype.fb=function(){return this.Gg[this.wf]};c.prototype.Mi=function(a,b){for(var d,e,m,k,c,n;b;){d=0;for(e=b.rb.length;d<e;d++)if(n=b.rb[d],n instanceof Ma&&Ga(a,n.name))return n;b=b.parent}d=0;for(e=this.$c.length;d<
e;d++)for(c=this.$c[d],m=0,k=c.Cc.length;m<k;m++)if(n=c.Cc[m],n instanceof Ma&&Ga(a,n.name))return n;return null};c.prototype.Ni=function(a){var b,d;b=0;for(d=this.Fb.length;b<d;b++)if(this.Fb[b].D===a)return this.Fb[b];return null};c.prototype.Ff=function(a){var b,d;b=0;for(d=this.i.length;b<d;b++)if(this.i[b].D===a)return this.i[b];return null};c.prototype.Hl=function(a){var b,d;b=0;for(d=this.Cd.length;b<d;b++)if(this.Cd[b].D===a)return this.Cd[b];return null};c.prototype.hm=function(){var a=this,
d=this.Jh,e=this.oc,k=this.Qf,m=!1;this.Wj&&(m=!0,d="__c2_continuouspreview",this.Wj=!1);if(d.length){this.xa();e=this.Ym();if(window.indexedDB&&!this.lc)f(d,e,function(){I("Saved state to IndexedDB storage ("+e.length+" bytes)");a.oc=e;a.trigger(Z.prototype.M.rg,null);a.oc="";m&&b()},function(k){try{localStorage.setItem("__c2save_"+d,e),I("Saved state to WebStorage ("+e.length+" bytes)"),a.oc=e,a.trigger(Z.prototype.M.rg,null),a.oc="",m&&b()}catch(c){I("Failed to save game state: "+k+"; "+c)}});
else try{localStorage.setItem("__c2save_"+d,e),I("Saved state to WebStorage ("+e.length+" bytes)"),a.oc=e,this.trigger(Z.prototype.M.rg,null),a.oc="",m&&b()}catch(c){I("Error saving to WebStorage: "+c)}this.Da=this.Qf=this.Jh=""}k.length&&(window.indexedDB&&!this.lc?h(k,function(b){b?(a.Da=b,I("Loaded state from IndexedDB storage ("+a.Da.length+" bytes)")):(a.Da=localStorage.getItem("__c2save_"+k)||"",I("Loaded state from WebStorage ("+a.Da.length+" bytes)"));a.df=!1;a.Da.length||a.trigger(Z.prototype.M.qg,
null)},function(){a.Da=localStorage.getItem("__c2save_"+k)||"";I("Loaded state from WebStorage ("+a.Da.length+" bytes)");a.df=!1;a.Da.length||a.trigger(Z.prototype.M.qg,null)}):(this.Da=localStorage.getItem("__c2save_"+k)||"",I("Loaded state from WebStorage ("+this.Da.length+" bytes)"),this.df=!1,a.Da.length||a.trigger(Z.prototype.M.qg,null)),this.Jh=this.Qf="");this.Da.length&&(this.xa(),this.zm(this.Da),this.oc=this.Da,this.trigger(Z.prototype.M.zk,null),this.Da=this.oc="")};c.prototype.Ym=function(){var a,
b,e,k,m,c,n,f={c2save:!0,version:1,rt:{time:this.jd.Ea,timescale:this.he,tickcount:this.ff,execcount:this.yf,next_uid:this.Te,running_layout:this.X.D,start_time_offset:Date.now()-this.gg},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.i.length;a<b;a++)if(m=this.i[a],!m.I&&!this.gk(m)){c={instances:[]};wa(m.W)&&(c.ex=d(m.W));e=0;for(k=m.d.length;e<k;e++)c.instances.push(this.Rj(m.d[e]));f.types[m.D.toString()]=c}a=0;for(b=this.Fb.length;a<b;a++)e=this.Fb[a],f.layouts[e.D.toString()]=
e.pb();k=f.events.groups;a=0;for(b=this.Cd.length;a<b;a++)e=this.Cd[a],k[e.D.toString()]=!!this.kf[e.Be];b=f.events.cnds;for(n in this.Ed)this.Ed.hasOwnProperty(n)&&(a=this.Ed[n],wa(a.W)&&(b[n]={ex:d(a.W)}));b=f.events.acts;for(n in this.Bd)this.Bd.hasOwnProperty(n)&&(a=this.Bd[n],wa(a.W)&&(b[n]={ex:a.W}));b=f.events.vars;for(n in this.je)this.je.hasOwnProperty(n)&&(a=this.je[n],a.If||a.parent&&!a.Le||(b[n]=a.data));f.system=this.Zb.pb();return JSON.stringify(f)};c.prototype.Lj=function(){var a,b,
d,e,m,k;this.nd={};a=0;for(b=this.i.length;a<b;a++)if(d=this.i[a],!d.I)for(e=0,m=d.d.length;e<m;e++)k=d.d[e],this.nd[k.uid.toString()]=k};c.prototype.zm=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=a.rt;this.jd.reset();this.jd.Ea=b.time;this.he=b.timescale;this.ff=b.tickcount;this.yf=b.execcount;this.gg=Date.now()-b.start_time_offset;var d=b.running_layout;if(d!==this.X.D)if(d=this.Ni(d))this.Ci(d);else return;var e,m,k,c,n,f,h;f=a.types;for(m in f)if(f.hasOwnProperty(m)&&(c=this.Ff(parseInt(m,
10)))&&!c.I&&!this.gk(c)){f[m].ex?c.W=f[m].ex:xa(c.W);n=c.d;k=f[m].instances;d=0;for(e=N(n.length,k.length);d<e;d++)this.kh(n[d],k[d]);d=k.length;for(e=n.length;d<e;d++)this.zd(n[d]);d=n.length;for(e=k.length;d<e;d++){n=null;if(c.Ja.Dc&&(n=this.X.Ef(k[d].w.l),!n))continue;n=this.Wc(c.Pb,n,!1,0,0,!0);this.kh(n,k[d])}c.fe=!0}this.xa();this.Lj();e=a.layouts;for(m in e)e.hasOwnProperty(m)&&(d=this.Ni(parseInt(m,10)))&&d.Vb(e[m]);e=a.events.groups;for(m in e)e.hasOwnProperty(m)&&(d=this.Hl(parseInt(m,
10)))&&(this.kf[d.Be]=e[m]);d=a.events.cnds;for(m in d)d.hasOwnProperty(m)&&this.Ed.hasOwnProperty(m)&&(this.Ed[m].W=d[m].ex);d=a.events.acts;for(m in d)d.hasOwnProperty(m)&&this.Bd.hasOwnProperty(m)&&(this.Bd[m].W=d[m].ex);d=a.events.vars;for(m in d)d.hasOwnProperty(m)&&this.je.hasOwnProperty(m)&&(this.je[m].data=d[m]);this.Te=b.next_uid;this.Zb.Vb(a.system);d=0;for(e=this.i.length;d<e;d++)if(c=this.i[d],!c.I)for(m=0,a=c.d.length;m<a;m++){n=c.d[m];if(c.Db)for(f=n.Ae(),b=n.siblings.length=0,k=c.Ha.length;b<
k;b++)h=c.Ha[b],c!==h&&n.siblings.push(h.d[f]);n.lf&&n.lf();if(n.H)for(b=0,k=n.H.length;b<k;b++)f=n.H[b],f.lf&&f.lf()}this.U=!0}};c.prototype.Rj=function(a){var b,e,k,m,c;m=a.type;k=m.Ja;var n={uid:a.uid};wa(a.W)&&(n.ex=d(a.W));if(a.ia&&a.ia.length)for(n.ivs={},b=0,e=a.ia.length;b<e;b++)n.ivs[a.type.ah[b].toString()]=a.ia[b];if(k.Dc){k={x:a.x,y:a.y,w:a.width,h:a.height,l:a.e.D,zi:a.gb()};0!==a.j&&(k.a=a.j);1!==a.opacity&&(k.o=a.opacity);0.5!==a.Ra&&(k.hX=a.Ra);0.5!==a.Sa&&(k.hY=a.Sa);0!==a.Fa&&(k.bm=
a.Fa);a.visible||(k.v=a.visible);a.zc||(k.ce=a.zc);-1!==a.Se&&(k.mts=a.Se);if(m.u.length)for(k.fx=[],b=0,e=m.u.length;b<e;b++)c=m.u[b],k.fx.push({name:c.name,active:a.uc[c.index],params:a.$[c.index]});n.w=k}if(a.H&&a.H.length)for(n.behs={},b=0,e=a.H.length;b<e;b++)m=a.H[b],m.pb&&(n.behs[m.type.D.toString()]=m.pb());a.pb&&(n.data=a.pb());return n};c.prototype.Jl=function(a,b){var d,e;d=0;for(e=a.ah.length;d<e;d++)if(a.ah[d]===b)return d;return-1};c.prototype.El=function(a,b){var d,e;d=0;for(e=a.H.length;d<
e;d++)if(a.H[d].type.D===b)return d;return-1};c.prototype.kh=function(a,b){var d,e,k,c,n,f;f=a.type;k=f.Ja;a.uid=b.uid;b.ex?a.W=b.ex:xa(a.W);if(e=b.ivs)for(d in e)e.hasOwnProperty(d)&&(c=this.Jl(f,parseInt(d,10)),0>c||c>=a.ia.length||(a.ia[c]=e[d]));if(k.Dc){c=b.w;a.e.D!==c.l&&(e=a.e,a.e=this.X.Ef(c.l),a.e?(a.e.d.push(a),a.e.ab=!0,R(e.d,a),e.ab=!0):(a.e=e,this.zd(a)));a.x=c.x;a.y=c.y;a.width=c.w;a.height=c.h;a.yd=c.zi;a.j=c.hasOwnProperty("a")?c.a:0;a.opacity=c.hasOwnProperty("o")?c.o:1;a.Ra=c.hasOwnProperty("hX")?
c.hX:0.5;a.Sa=c.hasOwnProperty("hY")?c.hY:0.5;a.visible=c.hasOwnProperty("v")?c.v:!0;a.zc=c.hasOwnProperty("ce")?c.ce:!0;a.Se=c.hasOwnProperty("mts")?c.mts:-1;a.Fa=c.hasOwnProperty("bm")?c.bm:0;a.re=Ca(a.Fa);this.m&&Ea(a,a.Fa,this.m);a.q();if(c.hasOwnProperty("fx"))for(e=0,k=c.fx.length;e<k;e++)n=f.Rg(c.fx[e].name),0>n||(a.uc[n]=c.fx[e].active,a.$[n]=c.fx[e].params);a.tc()}if(f=b.behs)for(d in f)f.hasOwnProperty(d)&&(c=this.El(a,parseInt(d,10)),0>c||a.H[c].Vb(f[d]));b.data&&a.Vb(b.data)};Na=function(a){return new c(document.getElementById(a))};
Oa=function(a,b){return new c({dc:!0,width:a,height:b})};window.cr_createRuntime=Na;window.cr_createDCRuntime=Oa;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");document.body.appendChild(a);a=new c(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();
window.cr_getC2Runtime=function(){var c=document.getElementById("c2canvas");return c?c.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(c,l){if(0!==c&&0!==l){var f=window.cr_getC2Runtime();f&&f.setSize(c,l)}};window.cr_setSuspended=function(c){var l=window.cr_getC2Runtime();l&&l.setSuspended(c)};
(function(){function c(b,d){this.b=b;this.vf=null;this.scrollX=this.b.Va/2;this.scrollY=this.b.Ua/2;this.scale=1;this.j=0;this.ye=!0;this.name=d[0];this.width=d[1];this.height=d[2];this.hk=d[3];this.Vj=d[4];this.D=d[5];var a=d[6],c,f;this.J=[];this.De=[];c=0;for(f=a.length;c<f;c++){var e=new Pa(this,a[c]);e.xj=c;this.J.push(e)}a=d[7];this.fd=[];c=0;for(f=a.length;c<f;c++){var e=a[c],k=this.b.i[e[1]];k.Pb||(k.Pb=e);this.fd.push(e);-1===this.De.indexOf(k)&&this.De.push(k)}this.u=[];this.L=[];this.$=
[];c=0;for(f=d[8].length;c<f;c++)this.u.push({id:d[8][c][0],name:d[8][c][1],wa:-1,cc:!0,index:c}),this.$.push(d[8][c][2].slice(0));this.tc();this.Bh=new P(0,0,1,1);this.Ch=new P(0,0,1,1);this.Fc={}}function l(b,d){this.Q=b;this.b=b.b;this.d=[];this.scale=1;this.j=0;this.Xc=!1;this.sc=new P(0,0,0,0);this.ck=new ga;this.sb=this.wb=this.ub=this.tb=0;this.ab=!1;this.name=d[0];this.index=d[1];this.D=d[2];this.visible=d[3];this.xc=d[4];this.wd=d[5];this.od=d[6];this.pd=d[7];this.opacity=d[8];this.Kg=d[9];
this.jf=d[10];this.Fa=d[11];this.$k=d[12];this.re="source-over";this.ya=this.Aa=0;this.Gc=!1;var a=d[13],c,f;this.Kd=[];c=0;for(f=a.length;c<f;c++){var e=a[c],k=this.b.i[e[1]];k.Pb||(k.Pb=e);this.Kd.push(e);-1===this.Q.De.indexOf(k)&&this.Q.De.push(k)}this.u=[];this.L=[];this.$=[];c=0;for(f=d[14].length;c<f;c++)this.u.push({id:d[14][c][0],name:d[14][c][1],wa:-1,cc:!0,index:c}),this.$.push(d[14][c][2].slice(0));this.tc();this.Bh=new P(0,0,1,1);this.Ch=new P(0,0,1,1)}function f(b,d){return b.yd-d.yd}
c.prototype.Xm=function(b){var d=b.type.D.toString();this.Fc.hasOwnProperty(d)||(this.Fc[d]=[]);this.Fc[d].push(this.b.Rj(b))};c.prototype.Qi=function(){var b=this.J[0];return!b.wd&&1===b.opacity&&!b.Kg&&b.visible};c.prototype.tc=function(){this.L.length=0;var b,d,a;b=0;for(d=this.u.length;b<d;b++)a=this.u[b],a.cc&&this.L.push(a)};c.prototype.Qg=function(b){var d,a,c;d=0;for(a=this.u.length;d<a;d++)if(c=this.u[d],c.name===b)return c;return null};var h=[];c.prototype.Vh=function(){this.Vj&&(this.vf=
this.b.Hg[this.Vj]);this.b.X=this;this.scrollX=this.b.Va/2;this.scrollY=this.b.Ua/2;var b,d,a,c,l,e,k;b=0;for(a=this.b.i.length;b<a;b++)if(d=this.b.i[b],!d.I)for(l=d.d,d=0,c=l.length;d<c;d++)if(e=l[d],e.e){var r=e.e.xj;r>=this.J.length&&(r=this.J.length-1);e.e=this.J[r];e.e.d.push(e);e.e.ab=!0}h.length=0;this.Ik();b=0;for(a=this.J.length;b<a;b++)e=this.J[b],e.Nk(),e.Xc=!0,d=e.Dd(!0),c=e.Dd(!1),e.Xc=!1,this.b.ae&&(d=d+0.5|0,c=c+0.5|0),e.Fh(d,c,null);l=!1;if(!this.ye){for(k in this.Fc)if(this.Fc.hasOwnProperty(k)&&
(d=this.b.Ff(parseInt(k,10)))&&!d.I&&this.b.bi(d)){c=this.Fc[k];b=0;for(a=c.length;b<a;b++){e=null;if(d.Ja.Dc&&(e=this.Ef(c[b].w.l),!e))continue;e=this.b.Wc(d.Pb,e,!1,0,0,!0);this.b.kh(e,c[b]);l=!0;h.push(e)}c.length=0}b=0;for(a=this.J.length;b<a;b++)this.J[b].d.sort(f),this.J[b].ab=!0}l&&(this.b.xa(),this.b.Lj());for(b=0;b<h.length;b++)if(e=h[b],e.type.Db)for(a=e.Ae(),d=0,c=e.type.Ha.length;d<c;d++)k=e.type.Ha[d],e.type!==k&&(k.d.length>a?e.siblings.push(k.d[a]):k.Pb&&(l=this.b.Wc(k.Pb,e.e,!0,e.x,
e.y,!0),this.b.xa(),k.ng(),e.siblings.push(l),h.push(l)));b=0;for(a=this.fd.length;b<a;b++)this.b.Wc(this.fd[b],null,!0);this.b.zg=null;this.b.xa();if(this.b.O&&!this.b.Cb)for(b=0,a=this.b.i.length;b<a;b++)k=this.b.i[b],!k.I&&k.d.length&&k.Hj&&k.Hj(this.b.O);b=0;for(a=h.length;b<a;b++)e=h[b],this.b.trigger(Object.getPrototypeOf(e.type.Ja).M.sk,e);h.length=0;this.b.trigger(Z.prototype.M.yk,null);this.ye=!1};c.prototype.Mk=function(){var b,d,a,c,f;d=b=0;for(a=this.fd.length;b<a;b++)c=this.fd[b],f=this.b.i[c[1]],
f.global?this.b.Wc(c,null,!0):(this.fd[d]=c,d++);this.fd.length=d};c.prototype.bn=function(){this.b.trigger(Z.prototype.M.xk,null);this.b.Zb.$a.length=0;var b,d,a,c,f,e;b=0;for(d=this.J.length;b<d;b++){f=this.J[b].d;a=0;for(c=f.length;a<c;a++)e=f[a],e.type.global||(this.b.bi(e.type)&&this.Xm(e),this.b.zd(e));this.b.xa();f.length=0;this.J[b].ab=!0}b=0;for(d=this.b.i.length;b<d;b++)if(f=this.b.i[b],!(f.global||f.Ja.Dc||f.Ja.Uh||f.I)){a=0;for(c=f.d.length;a<c;a++)this.b.zd(f.d[a]);this.b.xa()}};c.prototype.Yc=
function(b){b.globalAlpha=1;b.globalCompositeOperation="source-over";this.b.ti&&!this.Qi()&&b.clearRect(0,0,this.b.width,this.b.height);var d,a,c;d=0;for(a=this.J.length;d<a;d++)c=this.J[d],c.visible&&0<c.opacity&&11!==c.Fa&&c.Yc(b)};c.prototype.Qb=function(b){var d=0<this.L.length||this.b.ie;if(d){this.b.Eb||(this.b.Eb=b.Ac(this.b.width,this.b.height,this.b.ea));if(this.b.Eb.pe!==this.b.width||this.b.Eb.oe!==this.b.height)b.deleteTexture(this.b.Eb),this.b.Eb=b.Ac(this.b.width,this.b.height,this.b.ea);
b.rc(this.b.Eb)}this.b.ti&&!this.Qi()&&b.clear(0,0,0,0);var a,c;a=0;for(c=this.J.length;a<c;a++)this.J[a].visible&&0<this.J[a].opacity&&this.J[a].Qb(b);d&&(1>=this.L.length?(1===this.L.length?(d=this.L[0].index,b.Yb(this.L[0].wa),b.de(null,1/this.b.width,1/this.b.height,0,0,1,1,this.scale,this.$[d]),b.Yf(this.L[0].wa)&&(this.b.U=!0)):b.Yb(0),b.rc(null),b.Ze(1),b.Ib(this.b.Eb),b.Sj(),b.Hc(),b.Oc(),d=this.b.width/2,a=this.b.height/2,b.Zf(-d,a,d,a,d,-a,-d,-a),b.Ib(null)):this.Dh(b,null,null,null))};
c.prototype.ze=function(){return 0<this.L.length||this.b.ie?this.b.Eb:null};c.prototype.Oi=function(){var b=this.J[0].mb(),d,a,c;d=1;for(a=this.J.length;d<a;d++)c=this.J[d],(0!==c.od||0!==c.pd)&&c.mb()<b&&(b=c.mb());return b};c.prototype.Kh=function(b){if(!this.hk){var d=this.b.width*(1/this.Oi())/2;b>this.width-d&&(b=this.width-d);b<d&&(b=d)}this.scrollX!==b&&(this.scrollX=b,this.b.U=!0)};c.prototype.Lh=function(b){if(!this.hk){var d=this.b.height*(1/this.Oi())/2;b>this.height-d&&(b=this.height-
d);b<d&&(b=d)}this.scrollY!==b&&(this.scrollY=b,this.b.U=!0)};c.prototype.Ik=function(){this.Kh(this.scrollX);this.Lh(this.scrollY)};c.prototype.Dh=function(b,d,a,c){var f=a?a.L:d?d.L:this.L,e=a?a.e.mb():d?d.mb():1,k=this.b.Mg,h,g,p,l,t=0,m=1,y,C=this.b.width,D=this.b.height,X=C/2,Da=D/2,H=d?d.Bh:this.Bh,z=d?d.Ch:this.Ch,A=0,s=0,v=0,x=0,w=C,da=C,B=D,ea=D,Q=p=0,ja=a?a.e.cd():0;if(a){h=0;for(g=f.length;h<g;h++)p+=b.Ol(f[h].wa),Q+=b.Pl(f[h].wa);l=a.F;A=d.Ca(l.left,l.top,!0);v=d.Ca(l.left,l.top,!1);w=
d.Ca(l.right,l.bottom,!0);B=d.Ca(l.right,l.bottom,!1);0!==ja&&(h=d.Ca(l.right,l.top,!0),g=d.Ca(l.right,l.top,!1),s=d.Ca(l.left,l.bottom,!0),x=d.Ca(l.left,l.bottom,!1),l=Math.min(A,w,h,s),w=Math.max(A,w,h,s),A=l,l=Math.min(v,B,g,x),B=Math.max(v,B,g,x),v=l);A-=p;v-=Q;w+=p;B+=Q;z.left=A/C;z.top=1-v/D;z.right=w/C;z.bottom=1-B/D;s=A=Math.floor(A);x=v=Math.floor(v);da=w=Math.ceil(w);ea=B=Math.ceil(B);s-=p;x-=Q;da+=p;ea+=Q;0>A&&(A=0);0>v&&(v=0);w>C&&(w=C);B>D&&(B=D);0>s&&(s=0);0>x&&(x=0);da>C&&(da=C);ea>
D&&(ea=D);H.left=A/C;H.top=1-v/D;H.right=w/C;H.bottom=1-B/D}else H.left=z.left=0,H.top=z.top=0,H.right=z.right=1,H.bottom=z.bottom=1;Q=a&&((a.j||ja)&&b.Ve(f[0].wa)||0!==p||0!==Q||1!==a.opacity||a.type.Ja.uj)||d&&!a&&1!==d.opacity;b.Sj();if(Q){k[t]||(k[t]=b.Ac(C,D,this.b.ea));if(k[t].pe!==C||k[t].oe!==D)b.deleteTexture(k[t]),k[t]=b.Ac(C,D,this.b.ea);b.Yb(0);b.rc(k[t]);y=ea-x;b.clearRect(s,D-x-y,da-s,y);a?a.Qb(b):(b.Ib(this.b.ib),b.Ze(d.opacity),b.Hc(),b.translate(-X,-Da),b.Oc(),b.rd(A,B,w,B,w,v,A,
v,H));z.left=z.top=0;z.right=z.bottom=1;a&&(l=H.top,H.top=H.bottom,H.bottom=l);t=1;m=0}b.Ze(1);p=f.length-1;var ja=b.wh(f[p].wa),ka=0;h=0;for(g=f.length;h<g;h++){k[t]||(k[t]=b.Ac(C,D,this.b.ea));if(k[t].pe!==C||k[t].oe!==D)b.deleteTexture(k[t]),k[t]=b.Ac(C,D,this.b.ea);b.Yb(f[h].wa);ka=f[h].index;b.Yf(f[h].wa)&&(this.b.U=!0);0!=h||Q?(b.de(c,1/C,1/D,z.left,z.top,z.right,z.bottom,e,a?a.$[ka]:d?d.$[ka]:this.$[ka]),h!==p||ja?(b.rc(k[t]),y=ea-x,l=D-x-y,b.clearRect(s,l,da-s,y)):(a?b.Ic(a.Aa,a.ya):d&&b.Ic(d.Aa,
d.ya),b.rc(c)),b.Ib(k[m]),b.Hc(),b.translate(-X,-Da),b.Oc(),b.rd(A,B,w,B,w,v,A,v,H),h!==p||ja||b.Ib(null)):(b.rc(k[t]),y=ea-x,l=D-x-y,b.clearRect(s,l,da-s,y),a?(b.de(c,1/a.width,1/a.height,z.left,z.top,z.right,z.bottom,e,a.$[ka]),a.Qb(b)):(b.de(c,1/C,1/D,0,0,1,1,e,d?d.$[ka]:this.$[ka]),b.Ib(d?this.b.ib:this.b.Eb),b.Hc(),b.translate(-X,-Da),b.Oc(),b.rd(A,B,w,B,w,v,A,v,H)),z.left=z.top=0,z.right=z.bottom=1,a&&!ja&&(l=B,B=v,v=l));t=0===t?1:0;m=0===t?1:0}ja&&(b.Yb(0),a?b.Ic(a.Aa,a.ya):d&&b.Ic(d.Aa,d.ya),
b.rc(c),b.Ib(k[m]),b.Hc(),b.translate(-X,-Da),b.Oc(),a&&1===f.length&&!Q?b.rd(A,v,w,v,w,B,A,B,H):b.rd(A,B,w,B,w,v,A,v,H),b.Ib(null))};c.prototype.Ef=function(b){var d,a;d=0;for(a=this.J.length;d<a;d++)if(this.J[d].D===b)return this.J[d];return null};c.prototype.pb=function(){var b,d,a,c={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.ye,persist:this.Fc,fx:[],layers:{}};b=0;for(d=this.u.length;b<d;b++)a=this.u[b],c.fx.push({name:a.name,active:a.cc,params:this.$[a.index]});
b=0;for(d=this.J.length;b<d;b++)a=this.J[b],c.layers[a.D.toString()]=a.pb();return c};c.prototype.Vb=function(b){var d,a,c,f;this.scrollX=b.sx;this.scrollY=b.sy;this.scale=b.s;this.j=b.a;this.width=b.w;this.height=b.h;this.Fc=b.persist;"undefined"!==typeof b.fv&&(this.ye=b.fv);var e=b.fx;d=0;for(a=e.length;d<a;d++)if(c=this.Qg(e[d].name))c.cc=e[d].active,this.$[c.index]=e[d].params;this.tc();d=b.layers;for(f in d)d.hasOwnProperty(f)&&(b=this.Ef(parseInt(f,10)))&&b.Vb(d[f])};Ja=c;l.prototype.tc=function(){this.L.length=
0;var b,d,a;b=0;for(d=this.u.length;b<d;b++)a=this.u[b],a.cc&&this.L.push(a)};l.prototype.Qg=function(b){var d,a,c;d=0;for(a=this.u.length;d<a;d++)if(c=this.u[d],c.name===b)return c;return null};l.prototype.Nk=function(){var b,d,a,c,f,e;d=b=0;for(a=this.Kd.length;b<a;b++){c=this.Kd[b];f=this.b.i[c[1]];e=this.b.bi(f);f=!0;if(!e||this.Q.ye)c=this.b.Wc(c,this,!0),h.push(c),c.type.global&&(f=!1);f&&(this.Kd[d]=this.Kd[b],d++)}this.Kd.length=d;this.b.xa();!this.b.C&&this.u.length&&(this.Fa=this.$k);this.re=
Ca(this.Fa);this.b.m&&Ea(this,this.Fa,this.b.m)};l.prototype.gn=function(){if(this.ab){var b,d;b=0;for(d=this.d.length;b<d;b++)this.d[b].yd=b;this.ab=!1}};l.prototype.mb=function(){return this.Ml()*this.b.of};l.prototype.Ml=function(){return(this.scale*this.Q.scale-1)*this.jf+1};l.prototype.cd=function(){return this.Xc?0:T(this.Q.j+this.j)};l.prototype.Yc=function(b){this.Gc=this.Kg||1!==this.opacity||0!==this.Fa;var d=this.b.canvas,a=b;b.globalAlpha=1;b.globalCompositeOperation="source-over";this.Gc&&
(this.b.Of||(this.b.Of=document.createElement("canvas"),d=this.b.Of,d.width=this.b.width,d.height=this.b.height,this.b.lj=d.getContext("2d")),d=this.b.Of,a=this.b.lj,d.width!==this.b.width&&(d.width=this.b.width),d.height!==this.b.height&&(d.height=this.b.height),this.wd&&a.clearRect(0,0,this.b.width,this.b.height));this.wd||(a.fillStyle="rgb("+this.xc[0]+","+this.xc[1]+","+this.xc[2]+")",a.fillRect(0,0,this.b.width,this.b.height));a.save();this.Xc=!0;var c=this.Dd(!0),f=this.Dd(!1);this.Xc=!1;this.b.ae&&
(c=c+0.5|0,f=f+0.5|0);this.Fh(c,f,a);var e=this.mb();a.scale(e,e);a.translate(-c,-f);for(var k,c=0,f=this.d.length;c<f;c++)e=this.d[c],e.visible&&0!==e.width&&0!==e.height&&(e.Lb(),k=e.F,k.right<this.tb||k.bottom<this.wb||k.left>this.ub||k.top>this.sb||(a.globalCompositeOperation=e.re,e.Yc(a)));a.restore();this.Gc&&(b.globalCompositeOperation=this.re,b.globalAlpha=this.opacity,b.drawImage(d,0,0))};l.prototype.Fh=function(b,d,a){var c=this.mb();this.tb=b;this.wb=d;this.ub=b+this.b.width*(1/c);this.sb=
d+this.b.height*(1/c);b=this.cd();0!==b&&(a&&(a.translate(this.b.width/2,this.b.height/2),a.rotate(-b),a.translate(this.b.width/-2,this.b.height/-2)),this.sc.set(this.tb,this.wb,this.ub,this.sb),this.sc.offset((this.tb+this.ub)/-2,(this.wb+this.sb)/-2),this.ck.Uj(this.sc,b),this.ck.ni(this.sc),this.sc.offset((this.tb+this.ub)/2,(this.wb+this.sb)/2),this.tb=this.sc.left,this.wb=this.sc.top,this.ub=this.sc.right,this.sb=this.sc.bottom)};l.prototype.Qb=function(b){var d=this.b.width,a=this.b.height,
c=0,f=0;if(this.Gc=this.Kg||1!==this.opacity||0<this.L.length||0!==this.Fa){this.b.ib||(this.b.ib=b.Ac(this.b.width,this.b.height,this.b.ea));if(this.b.ib.pe!==this.b.width||this.b.ib.oe!==this.b.height)b.deleteTexture(this.b.ib),this.b.ib=b.Ac(this.b.width,this.b.height,this.b.ea);b.rc(this.b.ib);this.wd&&b.clear(0,0,0,0)}this.wd||b.clear(this.xc[0]/255,this.xc[1]/255,this.xc[2]/255,1);this.Xc=!0;var f=this.Dd(!0),e=this.Dd(!1);this.Xc=!1;this.b.ae&&(f=f+0.5|0,e=e+0.5|0);this.Fh(f,e,null);e=this.mb();
b.Hc();b.scale(e,e);b.Oj(-this.cd());b.translate((this.tb+this.ub)/-2,(this.wb+this.sb)/-2);b.Oc();var k,h,g;k=0;for(h=this.d.length;k<h;k++)if(g=this.d[k],g.visible&&0!==g.width&&0!==g.height&&(g.Lb(),c=g.F,!(c.right<this.tb||c.bottom<this.wb||c.left>this.ub||c.top>this.sb)))if(g.mk)if(c=g.L[0].wa,f=g.L[0].index,1!==g.L.length||b.wh(c)||b.Nm(c)||(g.j||g.e.cd())&&b.Ve(c)||1!==g.opacity||g.type.Ja.uj)this.Q.Dh(b,this,g,this.Gc?this.b.ib:this.Q.ze()),b.Hc(),b.scale(e,e),b.Oj(-this.cd()),b.translate((this.tb+
this.ub)/-2,(this.wb+this.sb)/-2),b.Oc();else{b.Yb(c);b.Ic(g.Aa,g.ya);b.Yf(c)&&(this.b.U=!0);var l=0,q=0,t=0,m=0;b.Ve(c)&&(c=g.F,l=this.Ca(c.left,c.top,!0),q=this.Ca(c.left,c.top,!1),t=this.Ca(c.right,c.bottom,!0),c=this.Ca(c.right,c.bottom,!1),l/=d,q=1-q/a,t/=d,m=1-c/a);b.de(this.Gc?this.b.ib:this.Q.ze(),1/g.width,1/g.height,l,q,t,m,this.mb(),g.$[f]);g.Qb(b)}else b.Yb(0),b.Ic(g.Aa,g.ya),g.Qb(b);this.Gc&&(c=this.L.length?this.L[0].wa:0,f=this.L.length?this.L[0].index:0,0===this.L.length||1===this.L.length&&
!b.wh(c)&&1===this.opacity?(1===this.L.length?(b.Yb(c),b.de(this.Q.ze(),1/this.b.width,1/this.b.height,0,0,1,1,this.mb(),this.$[f]),b.Yf(c)&&(this.b.U=!0)):b.Yb(0),b.rc(this.Q.ze()),b.Ze(this.opacity),b.Ib(this.b.ib),b.Ic(this.Aa,this.ya),b.Hc(),b.Oc(),d=this.b.width/2,a=this.b.height/2,b.Zf(-d,a,d,a,d,-a,-d,-a),b.Ib(null)):this.Q.Dh(b,this,null,this.Q.ze()))};l.prototype.Dd=function(b){var d=0,a=0,c=this.b.devicePixelRatio;this.b.Ie&&0<this.b.lb&&(d*=c,a*=c);var c=this.b.Va/2,f=this.b.Ua/2,c=(this.Q.scrollX-
c)*this.od+c,f=(this.Q.scrollY-f)*this.pd+f,e=1/this.mb(),c=c-this.b.width*e/2,f=f-this.b.height*e/2,c=c+d*e,f=f+a*e,a=this.cd();0!==a&&(c-=this.Q.scrollX,f-=this.Q.scrollY,d=Math.cos(a),a=Math.sin(a),e=c*d-f*a,f=f*d+c*a,c=e+this.Q.scrollX,f+=this.Q.scrollY);return b?c:f};l.prototype.Ca=function(b,d,a){var c=this.cd();if(0!==c){b-=this.Q.scrollX;d-=this.Q.scrollY;var f=Math.cos(-c),c=Math.sin(-c),e=b*f-d*c;d=d*f+b*c;b=e+this.Q.scrollX;d+=this.Q.scrollY}f=this.b.Va/2;c=this.b.Ua/2;f=(this.Q.scrollX-
f)*this.od+f;c=(this.Q.scrollY-c)*this.pd+c;e=1/this.mb();f-=this.b.width*e/2;c-=this.b.height*e/2;f=(b-f)/e;c=(d-c)/e;b=this.b.devicePixelRatio;this.b.Ie&&0<this.b.lb&&(f/=b,c/=b);return a?f:c};l.prototype.pb=function(){var b,d,a,c={s:this.scale,a:this.j,vl:this.tb,vt:this.wb,vr:this.ub,vb:this.sb,v:this.visible,bc:this.xc,t:this.wd,px:this.od,py:this.pd,o:this.opacity,zr:this.jf,fx:[],instances:[]};b=0;for(d=this.u.length;b<d;b++)a=this.u[b],c.fx.push({name:a.name,active:a.cc,params:this.$[a.index]});
return c};l.prototype.Vb=function(b){var d,a;this.scale=b.s;this.j=b.a;this.tb=b.vl;this.wb=b.vt;this.ub=b.vr;this.sb=b.vb;this.visible=b.v;this.xc=b.bc;this.wd=b.t;this.od=b.px;this.pd=b.py;this.opacity=b.o;this.jf=b.zr;var c=b.fx;b=0;for(d=c.length;b<d;b++)if(a=this.Qg(c[b].name))a.cc=c[b].active,this.$[a.index]=c[b].params;this.tc();this.d.sort(f);this.ab=!0};Pa=l})();
(function(){function c(a,b){var d,c=a.length;switch(c){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}}function l(a,b){return a.index-b.index}function f(a){var b,d,e,k;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(l);a.length>=p.length&&(p.length=a.length+1);p[a.length]||(p[a.length]=[]);k=p[a.length];b=0;for(d=k.length;b<d;b++)if(e=k[b],c(a,e))return e;k.push(a);return a}
function h(a,b){this.b=a;this.ek={};this.Gi={};this.Vg=!1;this.Si=new U;this.name=b[0];var d=b[1];this.Cc=[];var c,e;c=0;for(e=d.length;c<e;c++)this.Ui(d[c],null,this.Cc)}function b(a){this.type=a;this.d=[];this.N=[];this.ha=!0}function d(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ca=[];this.Jc=[];this.Ri=this.lg=this.Zh=this.$g=this.group=this.Xj=!1;this.aa=[];this.yb=[];this.rb=[];d[1]?(this.Be=d[1][1].toLowerCase(),this.group=!0,this.$g=!!d[1][0],this.b.Cd.push(this),this.b.kf[this.Be.toLowerCase()]=
this.$g):(this.Be="",this.$g=this.group=!1);this.Wb=d[2];this.D=d[4];this.group||(this.b.mi[this.D.toString()]=this);var c=d[5];a=0;for(b=c.length;a<b;a++){var e=new Qa(this,c[a]);e.index=a;this.aa.push(e);this.hi(e.type)}c=d[6];a=0;for(b=c.length;a<b;a++)e=new Ra(this,c[a]),e.index=a,this.yb.push(e);if(8===d.length)for(d=d[7],a=0,b=d.length;a<b;a++)this.sheet.Ui(d[a],this,this.rb);this.Jf=!1;this.aa.length&&(this.Jf=null==this.aa[0].type&&this.aa[0].da==Z.prototype.M.nk)}function a(a,b){var d,c,
e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Db))for(d=0,c=a.Ha.length;d<c;d++)e=a.Ha[d],a!==e&&-1===b.indexOf(e)&&b.push(e)}function n(a,b){this.bb=a;this.sheet=a.sheet;this.b=a.b;this.n=[];this.B=[];this.W={};this.index=-1;this.da=b[1];this.trigger=0<b[3];this.Fi=2===b[3];this.Ee=b[5];this.xm=b[6];this.D=b[7];this.b.Ed[this.D.toString()]=this;-1===b[0]?(this.type=null,this.la=this.Ih,this.Uc=null,this.ra=-1):(this.type=this.b.i[b[0]],this.la=this.xm?this.Vm:this.Hh,b[2]?(this.Uc=this.type.Df(b[2]),this.ra=
this.type.Og(b[2])):(this.Uc=null,this.ra=-1),this.bb.parent&&this.bb.parent.bg());this.Fi&&(this.la=this.Wm);if(10===b.length){var d,c,e=b[9];d=0;for(c=e.length;d<c;d++){var k=new Sa(this,e[d]);this.n.push(k)}this.B.length=e.length}}function u(a,b){this.bb=a;this.sheet=a.sheet;this.b=a.b;this.n=[];this.B=[];this.W={};this.index=-1;this.da=b[1];-1===b[0]?(this.type=null,this.la=this.Ih,this.Uc=null,this.ra=-1):(this.type=this.b.i[b[0]],this.la=this.Hh,b[2]?(this.Uc=this.type.Df(b[2]),this.ra=this.type.Og(b[2])):
(this.Uc=null,this.ra=-1));this.D=b[3];this.b.Bd[this.D.toString()]=this;if(6===b.length){var d,c,e=b[5];d=0;for(c=e.length;d<c;d++){var k=new Sa(this,e[d]);this.n.push(k)}this.B.length=e.length}}function e(a,b){this.p=a;this.bb=a.bb;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Rb=null;this.vi=this.Kc=0;this.Q=null;this.key=0;this.object=null;this.index=0;this.og=this.ge=this.Hi=this.ad=this.gf=null;var d,c,e;switch(b[0]){case 0:case 7:this.Rb=new V(this,b[1]);this.Kc=0;this.get=this.Wl;break;
case 1:this.Rb=new V(this,b[1]);this.Kc=0;this.get=this.Xl;break;case 5:this.Rb=new V(this,b[1]);this.Kc=0;this.get=this.cm;break;case 3:case 8:this.vi=b[1];this.get=this.Ul;break;case 6:this.Q=this.b.ih[b[1]];this.get=this.dm;break;case 9:this.key=b[1];this.get=this.$l;break;case 4:this.object=this.b.i[b[1]];this.get=this.em;this.bb.hi(this.object);this.p instanceof Ra?this.bb.bg():this.bb.parent&&this.bb.parent.bg();break;case 10:this.index=b[1];this.get=a.type.I?this.Yl:this.Zl;break;case 11:this.gf=
b[1];this.ad=null;this.get=this.Vl;break;case 2:case 12:this.Hi=b[1];this.get=this.Tl;break;case 13:for(this.get=this.fm,this.ge=[],this.og=[],d=1,c=b.length;d<c;d++)e=new Sa(this.p,b[d]),this.ge.push(e),this.og.push(0)}}function k(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ca=[];this.name=d[1];this.Zg=d[3];this.Le=!!d[4];this.If=!!d[5];this.D=d[6];this.b.je[this.D.toString()]=this;this.data=this.Zg;this.parent?(this.md=this.Le||this.If?-1:this.b.an++,this.b.Gk.push(this)):(this.md=-1,this.b.Fk.push(this))}
function r(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ca=[];this.Ce=null;this.jm=d[1]}function g(){this.Yj=[];this.reset(null)}var p=[];h.prototype.toString=F("name");h.prototype.Ui=function(a,b,d){switch(a[0]){case 0:a=new Ta(this,b,a);if(a.Wb)for(d.push(a),d=0,b=a.aa.length;d<b;d++)a.aa[d].trigger&&this.Vi(a,d);else a.aj()?this.Vi(a,0):d.push(a);break;case 1:a=new Ma(this,b,a);d.push(a);break;case 2:a=new Ua(this,b,a),d.push(a)}};h.prototype.ba=function(){var a,b;a=0;for(b=this.Cc.length;a<
b;a++)this.Cc[a].ba(a<b-1&&this.Cc[a+1].Jf)};h.prototype.la=function(a){this.b.Io||(this.Vg=!0,a||(this.b.eh=!0));var b,d;b=0;for(d=this.Cc.length;b<d;b++){var c=this.Cc[b];c.la();this.b.Ag(c.ca);this.b.Ob.Fe()&&!this.b.eb.length||this.b.xa()}a||(this.b.eh=!1)};h.prototype.Vi=function(a,b){a.Wb||this.b.mg.push(a);var d,c,e=a.aa[b],k;k=e.type?e.type.name:"system";var g=(d=e.Fi)?this.Gi:this.ek;g[k]||(g[k]=[]);k=g[k];g=e.da;if(d){if(e.n.length&&(e=e.n[0],1===e.type&&2===e.Rb.type)){e=e.Rb.value.toLowerCase();
d=0;for(c=k.length;d<c;d++)if(k[d].method==g){d=k[d].xf;d[e]?d[e].push([a,b]):d[e]=[[a,b]];return}d={};d[e]=[[a,b]];k.push({method:g,xf:d})}}else{d=0;for(c=k.length;d<c;d++)if(k[d].method==g){k[d].xf.push([a,b]);return}k.push({method:g,xf:[[a,b]]})}};Ka=h;b.prototype.Pi=function(){return this.ha?this.type.d.length:this.d.length};b.prototype.Tb=function(){return this.ha?this.type.d:this.d};b.prototype.Ue=function(a){a&&(a.b.fb().Bb.Wb?(this.ha&&(this.d.length=0,la(this.N,a.type.d),this.ha=!1),a=this.N.indexOf(a),
-1!==a&&(this.d.push(this.N[a]),this.N.splice(a,1))):(this.ha=!1,this.d.length=1,this.d[0]=a))};Ia=b;d.prototype.ba=function(a){var b,d=this.parent;if(this.group)for(this.lg=!0;d;){if(!d.group){this.lg=!1;break}d=d.parent}this.Zh=!this.aj()&&(!this.parent||this.parent.group&&this.parent.lg);this.Ri=!!a;this.Jc=this.ca.slice(0);for(d=this.parent;d;){a=0;for(b=d.ca.length;a<b;a++)this.Ek(d.ca[a]);d=d.parent}this.ca=f(this.ca);this.Jc=f(this.Jc);a=0;for(b=this.aa.length;a<b;a++)this.aa[a].ba();a=0;for(b=
this.yb.length;a<b;a++)this.yb[a].ba();a=0;for(b=this.rb.length;a<b;a++)this.rb[a].ba(a<b-1&&this.rb[a+1].Jf)};d.prototype.hi=function(b){a(b,this.ca)};d.prototype.Ek=function(b){a(b,this.Jc)};d.prototype.bg=function(){this.Xj=!0;this.parent&&this.parent.bg()};d.prototype.aj=function(){return this.aa.length?this.aa[0].trigger:!1};d.prototype.la=function(){var a,b=!1,d,c=this.b.fb();c.Bb=this;this.Jf||(c.Fg=!1);if(this.Wb){0===this.aa.length&&(b=!0);c.Ga=0;for(a=this.aa.length;c.Ga<a;c.Ga++)this.aa[c.Ga].trigger||
(d=this.aa[c.Ga].la())&&(b=!0);(c.Pd=b)&&this.Gh()}else{c.Ga=0;for(a=this.aa.length;c.Ga<a;c.Ga++)if(d=this.aa[c.Ga].la(),!d){c.Pd=!1;!this.Zh||this.b.Ob.Fe()&&!this.b.eb.length||this.b.xa();return}c.Pd=!0;this.Gh()}this.bl(c)};d.prototype.bl=function(a){a.Pd&&this.Ri&&(a.Fg=!0);!this.Zh||this.b.Ob.Fe()&&!this.b.eb.length||this.b.xa()};d.prototype.Tm=function(a){this.b.fb().Bb=this;this.aa[a].la()&&this.Gh()};d.prototype.Gh=function(){var a=this.b.fb(),b;a.jb=0;for(b=this.yb.length;a.jb<b;a.jb++)if(this.yb[a.jb].la())return;
this.Pj()};d.prototype.Rm=function(){var a=this.b.fb(),b;for(b=this.yb.length;a.jb<b;a.jb++)if(this.yb[a.jb].la())return;this.Pj()};d.prototype.Pj=function(){if(this.rb.length){var a,b,d,c,e=this.rb.length-1;this.b.yh(this);if(this.Xj)for(a=0,b=this.rb.length;a<b;a++)d=this.rb[a],(c=!this.lg||!this.group&&a<e)&&this.b.xh(d.ca),d.la(),c?this.b.be(d.ca):this.b.Ag(d.ca);else for(a=0,b=this.rb.length;a<b;a++)this.rb[a].la();this.b.Ej()}};d.prototype.Um=function(){var a=this.b.fb();a.Bb=this;var b=!1,
d;a.Ga=0;for(d=this.aa.length;a.Ga<d;a.Ga++)if(this.aa[a.Ga].la())b=!0;else if(!this.Wb)return!1;return this.Wb?b:!0};d.prototype.tm=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.aa[b].type===a.type)return!1;return!0};Ta=d;n.prototype.ba=function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.n[a].ba()};n.prototype.Wm=G(!0);n.prototype.Ih=function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.B[a]=this.n[a].get();return va(this.da.apply(this.b.Zb,this.B),this.Ee)};n.prototype.Vm=
function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.B[a]=this.n[a].get(a);a=this.da.apply(this.Uc?this.Uc:this.type,this.B);this.type.nf();return a};n.prototype.Hh=function(){var a,b,d,c,e,k,g,f=this.type.Y(),h=this.bb.Wb&&!this.trigger,n=0,l=this.type.Db;if(f.ha){f.d.length=0;a=f.N.length=0;for(d=this.type.d.length;a<d;a++){k=this.type.d[a];b=0;for(c=this.n.length;b<c;b++)this.B[b]=this.n[b].get(a);-1<this.ra?(this.type.I&&(n=k.type.Id[this.type.Sb]),b=this.da.apply(k.H[this.ra+n],this.B)):b=
this.da.apply(k,this.B);(e=va(b,this.Ee))?f.d.push(k):h&&f.N.push(k)}this.type.finish&&this.type.finish(!0);f.ha=!1;this.type.nf();return f.Pi()}var r=0,p=(e=h&&!this.bb.tm(this))?f.N:f.d,q=!1;a=0;for(d=p.length;a<d;a++){k=p[a];b=0;for(c=this.n.length;b<c;b++)this.B[b]=this.n[b].get(a);-1<this.ra?(this.type.I&&(n=k.type.Id[this.type.Sb]),b=this.da.apply(k.H[this.ra+n],this.B)):b=this.da.apply(k,this.B);if(va(b,this.Ee))if(q=!0,e){if(f.d.push(k),l)for(b=0,c=k.siblings.length;b<c;b++)g=k.siblings[b],
g.type.Y().d.push(g)}else{p[r]=k;if(l)for(b=0,c=k.siblings.length;b<c;b++)g=k.siblings[b],g.type.Y().d[r]=g;r++}else if(e){p[r]=k;if(l)for(b=0,c=k.siblings.length;b<c;b++)g=k.siblings[b],g.type.Y().N[r]=g;r++}else if(h&&(f.N.push(k),l))for(b=0,c=k.siblings.length;b<c;b++)g=k.siblings[b],g.type.Y().N.push(g)}p.length=r;if(l)for(a=0,d=this.type.Ha.length;a<d;a++)k=this.type.Ha[a].Y(),e?k.N.length=r:k.d.length=r;n=q;if(e&&!q)for(a=0,d=f.d.length;a<d;a++){k=f.d[a];b=0;for(c=this.n.length;b<c;b++)this.B[b]=
this.n[b].get(a);b=-1<this.ra?this.da.apply(k.H[this.ra],this.B):this.da.apply(k,this.B);if(va(b,this.Ee)){q=!0;break}}this.type.finish&&this.type.finish(n||h);return h?q:f.Pi()};Qa=n;u.prototype.ba=function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.n[a].ba()};u.prototype.Ih=function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.B[a]=this.n[a].get();return this.da.apply(this.b.Zb,this.B)};u.prototype.Hh=function(){var a=this.type.Y().Tb(),b,d,c,e,k;b=0;for(c=a.length;b<c;b++){k=a[b];d=0;for(e=
this.n.length;d<e;d++)this.B[d]=this.n[d].get(b);-1<this.ra?(d=0,this.type.I&&(d=k.type.Id[this.type.Sb]),this.da.apply(k.H[this.ra+d],this.B)):this.da.apply(k,this.B)}return!1};Ra=u;var q=[],t=-1;e.prototype.ba=function(){var a,b;if(11===this.type)this.ad=this.b.Mi(this.gf,this.bb.parent);else if(13===this.type)for(a=0,b=this.ge.length;a<b;a++)this.ge[a].ba();this.Rb&&this.Rb.ba()};e.prototype.ka=function(){t++;q.length===t&&q.push(new Va);return q[t]};e.prototype.fa=function(){t--};e.prototype.Wl=
function(a){this.Kc=a||0;a=this.ka();this.Rb.get(a);this.fa();return a.data};e.prototype.Xl=function(a){this.Kc=a||0;a=this.ka();this.Rb.get(a);this.fa();return K(a.data)?a.data:""};e.prototype.em=F("object");e.prototype.Ul=F("vi");e.prototype.cm=function(a){this.Kc=a||0;a=this.ka();this.Rb.get(a);this.fa();return a.na()?this.b.Ll(a.data):this.b.Kl(a.data)};e.prototype.dm=F("Q");e.prototype.$l=F("key");e.prototype.Zl=F("index");e.prototype.Yl=function(a){var b=this.p.type,d=null,d=b.Y(),c=d.Tb(),
d=c.length?c[a%c.length].type:d.N[a%d.N.length].type;return this.index+d.zf[b.Sb]};e.prototype.Vl=F("ad");e.prototype.Tl=F("Hi");e.prototype.fm=function(){var a,b;a=0;for(b=this.ge.length;a<b;a++)this.og[a]=this.ge[a].get();return this.og};Sa=e;k.prototype.ba=function(){this.ca=f(this.ca)};k.prototype.Zm=function(a){var b=this.b.Li();this.parent&&!this.Le&&b?(this.md>=b.length&&(b.length=this.md+1),b[this.md]=a):this.data=a};k.prototype.Sl=function(){var a=this.b.Li();return!this.parent||this.Le||
!a||this.If?this.data:this.md>=a.length||"undefined"===typeof a[this.md]?this.Zg:a[this.md]};k.prototype.la=function(){!this.parent||this.Le||this.If||this.Zm(this.Zg)};Ma=k;r.prototype.toString=function(){return"include:"+this.Ce.toString()};r.prototype.ba=function(){this.Ce=this.b.Hg[this.jm];this.sheet.Si.add(this);this.ca=f(this.ca)};r.prototype.la=function(){this.parent&&this.b.We(this.b.i);this.Ce.Vg||this.Ce.la(!0);this.parent&&this.b.be(this.b.i)};r.prototype.nm=function(){for(var a=this.parent;a;){if(a.group&&
!this.b.kf[a.Be.toLowerCase()])return!1;a=a.parent}return!0};Ua=r;g.prototype.reset=function(a){this.Bb=a;this.jb=this.Ga=0;this.Yj.length=0;this.Fg=this.Pd=!1};La=g})();
(function(){function c(c,h){this.p=c;this.b=c.b;this.type=h[0];this.get=[this.ml,this.il,this.ul,this.yl,this.cl,this.wl,this.ql,this.fl,this.pl,this.tl,this.dl,this.sl,this.gl,this.rl,this.nl,this.ol,this.jl,this.kl,this.el,this.xl,this.Di,this.ll,this.Di,this.hl][this.type];var b=null;this.Ta=this.n=this.B=this.da=this.jg=this.oa=this.first=this.value=null;this.ra=-1;this.kc=null;this.di=-1;this.ad=this.gf=null;this.Ye=!1;switch(this.type){case 0:case 1:case 2:this.value=h[1];break;case 3:this.first=
new V(c,h[1]);break;case 18:this.first=new V(c,h[1]);this.oa=new V(c,h[2]);this.jg=new V(c,h[3]);break;case 19:this.da=h[1];this.B=[];this.n=[];3===h.length?(b=h[2],this.B.length=b.length+1):this.B.length=1;break;case 20:this.Ta=this.b.i[h[1]];this.ra=-1;this.da=h[2];this.Ye=h[3];this.kc=h[4]?new V(c,h[4]):null;this.B=[];this.n=[];6===h.length?(b=h[5],this.B.length=b.length+1):this.B.length=1;break;case 21:this.Ta=this.b.i[h[1]];this.Ye=h[2];this.kc=h[3]?new V(c,h[3]):null;this.di=h[4];break;case 22:this.Ta=
this.b.i[h[1]];this.Ta.Df(h[2]);this.ra=this.Ta.Og(h[2]);this.da=h[3];this.Ye=h[4];this.kc=h[5]?new V(c,h[5]):null;this.B=[];this.n=[];7===h.length?(b=h[6],this.B.length=b.length+1):this.B.length=1;break;case 23:this.gf=h[1],this.ad=null}4<=this.type&&17>=this.type&&(this.first=new V(c,h[1]),this.oa=new V(c,h[2]));if(b){var d,a;d=0;for(a=b.length;d<a;d++)this.n.push(new V(c,b[d]))}}function l(c,h){this.type=c||W.me;this.data=h||0;this.Yd=null;this.type==W.me&&(this.data=Math.floor(this.data))}c.prototype.ba=
function(){23===this.type&&(this.ad=this.p.b.Mi(this.gf,this.p.bb.parent));this.first&&this.first.ba();this.oa&&this.oa.ba();this.jg&&this.jg.ba();this.kc&&this.kc.ba();if(this.n){var c,h;c=0;for(h=this.n.length;c<h;c++)this.n[c].ba()}};c.prototype.xl=function(c){this.B[0]=c;c=this.p.ka();var h,b;h=0;for(b=this.n.length;h<b;h++)this.n[h].get(c),this.B[h+1]=c.data;this.p.fa();this.da.apply(this.b.Zb,this.B)};c.prototype.Di=function(c){var h=this.Ta.Y(),b=h.Tb();if(!b.length)if(h.N.length)b=h.N;else{this.Ye?
c.Jb(""):c.V(0);return}this.B[0]=c;c.Yd=this.Ta;c=this.p.ka();var d,h=0;for(d=this.n.length;h<d;h++)this.n[h].get(c),this.B[h+1]=c.data;h=this.p.Kc;this.kc&&(this.kc.get(c),c.na()&&(h=c.data,b=this.Ta.d));this.p.fa();h%=b.length;0>h&&(h+=b.length);b=b[h];-1<this.ra?(c=0,this.Ta.I&&(c=b.type.Id[this.Ta.Sb]),this.da.apply(b.H[this.ra+c],this.B)):this.da.apply(b,this.B)};c.prototype.ll=function(c){var h=this.Ta.Y(),b=h.Tb();if(!b.length)if(h.N.length)b=h.N;else{this.Ye?c.Jb(""):c.V(0);return}h=this.p.Kc;
if(this.kc){var d=this.p.ka();this.kc.get(d);if(d.na()){h=d.data;b=this.Ta.d;h%=b.length;0>h&&(h+=b.length);b=b[h].ia[this.di];K(b)?c.Jb(b):c.K(b);this.p.fa();return}this.p.fa()}h%=b.length;0>h&&(h+=b.length);b=b[h];h=0;this.Ta.I&&(h=b.type.zf[this.Ta.Sb]);b=b.ia[this.di+h];K(b)?c.Jb(b):c.K(b)};c.prototype.ml=function(c){c.type=W.me;c.data=this.value};c.prototype.il=function(c){c.type=W.le;c.data=this.value};c.prototype.ul=function(c){c.type=W.sg;c.data=this.value};c.prototype.yl=function(c){this.first.get(c);
c.na()&&(c.data=-c.data)};c.prototype.cl=function(c){this.first.get(c);var h=this.p.ka();this.oa.get(h);c.na()&&h.na()&&(c.data+=h.data,h.Md()&&c.Vd());this.p.fa()};c.prototype.wl=function(c){this.first.get(c);var h=this.p.ka();this.oa.get(h);c.na()&&h.na()&&(c.data-=h.data,h.Md()&&c.Vd());this.p.fa()};c.prototype.ql=function(c){this.first.get(c);var h=this.p.ka();this.oa.get(h);c.na()&&h.na()&&(c.data*=h.data,h.Md()&&c.Vd());this.p.fa()};c.prototype.fl=function(c){this.first.get(c);var h=this.p.ka();
this.oa.get(h);c.na()&&h.na()&&(c.data/=h.data,c.Vd());this.p.fa()};c.prototype.pl=function(c){this.first.get(c);var h=this.p.ka();this.oa.get(h);c.na()&&h.na()&&(c.data%=h.data,h.Md()&&c.Vd());this.p.fa()};c.prototype.tl=function(c){this.first.get(c);var h=this.p.ka();this.oa.get(h);c.na()&&h.na()&&(c.data=Math.pow(c.data,h.data),h.Md()&&c.Vd());this.p.fa()};c.prototype.dl=function(c){this.first.get(c);var h=this.p.ka();this.oa.get(h);c.na()?h.Kf()?c.Jb(c.data.toString()+h.data):c.data&&h.data?c.V(1):
c.V(0):c.Kf()&&(c.data=h.Kf()?c.data+h.data:c.data+(Math.round(1E10*h.data)/1E10).toString());this.p.fa()};c.prototype.sl=function(c){this.first.get(c);var h=this.p.ka();this.oa.get(h);c.na()&&h.na()&&(c.data||h.data?c.V(1):c.V(0));this.p.fa()};c.prototype.el=function(c){this.first.get(c);c.data?this.oa.get(c):this.jg.get(c)};c.prototype.gl=function(c){this.first.get(c);var h=this.p.ka();this.oa.get(h);c.V(c.data===h.data?1:0);this.p.fa()};c.prototype.rl=function(c){this.first.get(c);var h=this.p.ka();
this.oa.get(h);c.V(c.data!==h.data?1:0);this.p.fa()};c.prototype.nl=function(c){this.first.get(c);var h=this.p.ka();this.oa.get(h);c.V(c.data<h.data?1:0);this.p.fa()};c.prototype.ol=function(c){this.first.get(c);var h=this.p.ka();this.oa.get(h);c.V(c.data<=h.data?1:0);this.p.fa()};c.prototype.jl=function(c){this.first.get(c);var h=this.p.ka();this.oa.get(h);c.V(c.data>h.data?1:0);this.p.fa()};c.prototype.kl=function(c){this.first.get(c);var h=this.p.ka();this.oa.get(h);c.V(c.data>=h.data?1:0);this.p.fa()};
c.prototype.hl=function(c){var h=this.ad.Sl();J(h)?c.K(h):c.Jb(h)};V=c;l.prototype.Md=function(){return this.type===W.le};l.prototype.na=function(){return this.type===W.me||this.type===W.le};l.prototype.Kf=function(){return this.type===W.sg};l.prototype.Vd=function(){this.Md()||(this.Kf()&&(this.data=parseFloat(this.data)),this.type=W.le)};l.prototype.V=function(c){this.type=W.me;this.data=Math.floor(c)};l.prototype.K=function(c){this.type=W.le;this.data=c};l.prototype.Jb=function(c){this.type=W.sg;
this.data=c};Va=l;W={me:0,le:1,sg:2}})();function Z(c){this.b=c;this.$a=[]}
Z.prototype.pb=function(){var c={},l,f,h,b,d,a,n,u;c.waits=[];var e=c.waits,k;l=0;for(f=this.$a.length;l<f;l++){a=this.$a[l];k={t:a.time,ev:a.ve.D,sm:[],sols:{}};a.ve.yb[a.jb]&&(k.act=a.ve.yb[a.jb].D);h=0;for(b=a.ca.length;h<b;h++)k.sm.push(a.ca[h].D);for(d in a.Wa)if(a.Wa.hasOwnProperty(d)){n=this.b.i[parseInt(d,10)];u={sa:a.Wa[d].Qj,insts:[]};h=0;for(b=a.Wa[d].gd.length;h<b;h++)u.insts.push(a.Wa[d].gd[h].uid);k.sols[n.D.toString()]=u}e.push(k)}return c};
Z.prototype.Vb=function(c){c=c.waits;var l,f,h,b,d,a,n,u,e,k,r;l=this.$a.length=0;for(f=c.length;l<f;l++)if(a=c[l],u=this.b.mi[a.ev.toString()]){e=-1;h=0;for(b=u.yb.length;h<b;h++)if(u.yb[h].D===a.act){e=h;break}if(-1!==e){n={Wa:{},ca:[],Ai:!1};n.time=a.t;n.ve=u;n.jb=e;h=0;for(b=a.sm.length;h<b;h++)(u=this.b.Ff(a.sm[h]))&&n.ca.push(u);for(d in a.sols)if(a.sols.hasOwnProperty(d)&&(u=this.b.Ff(parseInt(d,10)))){e=a.sols[d];k={Qj:e.sa,gd:[]};h=0;for(b=e.insts.length;h<b;h++)(r=this.b.Tg(e.insts[h]))&&
k.gd.push(r);n.Wa[u.index.toString()]=k}this.$a.push(n)}}};
(function(){function c(){}function l(){}var f=Z.prototype;c.prototype.yk=G(!0);c.prototype.xk=G(!0);c.prototype.nk=function(){var b=this.b.fb();return b.Fg?!1:!b.Pd};c.prototype.gi=G(!0);c.prototype.rk=G(!0);c.prototype.rg=G(!0);c.prototype.zk=G(!0);c.prototype.qg=G(!0);f.M=new c;var h=[],b=[];f.vc=new (E());l.prototype["int"]=function(b,a){K(a)?(b.V(parseInt(a,10)),isNaN(b.data)&&(b.data=0)):b.V(a)};l.prototype["float"]=function(b,a){K(a)?(b.K(parseFloat(a)),isNaN(b.data)&&(b.data=0)):b.K(a)};l.prototype.random=
function(b,a,c){void 0===c?b.K(Math.random()*a):b.K(Math.random()*(c-a)+a)};l.prototype.sqrt=function(b,a){b.K(Math.sqrt(a))};l.prototype.abs=function(b,a){b.K(Math.abs(a))};l.prototype.round=function(b,a){b.V(Math.round(a))};l.prototype.floor=function(b,a){b.V(Math.floor(a))};l.prototype.ceil=function(b,a){b.V(Math.ceil(a))};l.prototype.sin=function(b,a){b.K(Math.sin(S(a)))};l.prototype.cos=function(b,a){b.K(Math.cos(S(a)))};l.prototype.tan=function(b,a){b.K(Math.tan(S(a)))};l.prototype.acos=function(b,
a){b.K(ma(Math.acos(a)))};l.prototype.max=function(b){var a=arguments[1],c,h;c=2;for(h=arguments.length;c<h;c++)a<arguments[c]&&(a=arguments[c]);b.K(a)};l.prototype.min=function(b){var a=arguments[1],c,h;c=2;for(h=arguments.length;c<h;c++)a>arguments[c]&&(a=arguments[c]);b.K(a)};l.prototype.Gd=function(b){b.K(this.b.Gd)};l.prototype.he=function(b){b.K(this.b.he)};l.prototype.time=function(b){b.K(this.b.jd.Ea)};l.prototype.ff=function(b){b.V(this.b.ff)};l.prototype.Vf=function(b){b.V(this.b.Vf)};l.prototype.Lg=
function(b){b.V(this.b.Lg)};l.prototype.j=function(b,a,c,h,e){b.K(ma(qa(a,c,h,e)))};l.prototype.left=function(b,a,c){b.Jb(K(a)?a.substr(0,c):"")};l.prototype.right=function(b,a,c){b.Jb(K(a)?a.substr(a.length-c):"")};l.prototype.replace=function(b,a,c,h){K(a)&&K(c)&&K(h)?b.Jb(a.replace(RegExp(Aa(c),"gi"),h)):b.Jb(K(a)?a:"")};l.prototype.Bg=function(b){b.K(this.b.Bg/1E3)};l.prototype.Rf=function(b){b.K(this.b.Rf)};f.we=new l;f.Sm=function(){var c,a,f,l,e,k,r=this.b.fb();c=0;for(f=this.$a.length;c<f;c++)if(l=
this.$a[c],!(l.time>this.b.jd.Ea)){r.Bb=l.ve;r.jb=l.jb;r.Ga=0;for(a in l.Wa)l.Wa.hasOwnProperty(a)&&(e=this.b.i[parseInt(a,10)].Y(),k=l.Wa[a],e.ha=k.Qj,la(e.d,k.gd),e=k,e.gd.length=0,b.push(e));l.ve.Rm();this.b.Ag(l.ca);l.Ai=!0}a=c=0;for(f=this.$a.length;c<f;c++)l=this.$a[c],this.$a[a]=l,l.Ai?(xa(l.Wa),l.ca.length=0,h.push(l)):a++;this.$a.length=a}})();
function db(c){var l=c[0].prototype,f=c[1],h=c[3],b=c[4],d=c[5],a=c[6],n=c[7];c=c[8];l.M||(l.M={});l.vc||(l.vc={});l.we||(l.we={});var u=l.M,e=l.vc,l=l.we;h&&(u.wn=function(a,b){return zb(this.x,a,b)},u.xn=function(a,b){return zb(this.y,a,b)},u.Gn=function(){var a=this.e;this.Lb();var b=this.F;return!(b.right<a.tb||b.bottom<a.wb||b.left>a.ub||b.top>a.sb)},u.Hn=function(){this.Lb();var a=this.F,b=this.b.X;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},u.Tn=function(a,b,c){var d=this.Y(),
e=d.Tb();if(!e.length)return!1;var h=e[0],f=h,l=ua(h.x,h.y,b,c),n,u,X;n=1;for(u=e.length;n<u;n++)if(h=e[n],X=ua(h.x,h.y,b,c),0===a&&X<l||1===a&&X>l)l=X,f=h;d.Ue(f);return!0},e.po=function(a){this.x!==a&&(this.x=a,this.q())},e.qo=function(a){this.y!==a&&(this.y=a,this.q())},e.jo=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.q()},e.ko=function(a,b){var c=a.Nl(this);if(c){var d;c.Sg?(d=c.Sg(b,!0),c=c.Sg(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.q()}},e.Mn=
function(a){0!==a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.q())},e.Ln=function(a,b){0!==b&&(this.x+=Math.cos(S(a))*b,this.y+=Math.sin(S(a))*b,this.q())},l.vo=function(a){a.K(this.x)},l.wo=function(a){a.K(this.y)},l.Gd=function(a){a.K(this.b.Pg(this))});b&&(u.vn=function(a,b){return zb(this.width,a,b)},u.sn=function(a,b){return zb(this.height,a,b)},e.oo=function(a){this.width!==a&&(this.width=a,this.q())},e.fo=function(a){this.height!==a&&(this.height=a,this.q())},e.lo=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.q()},l.uo=function(a){a.K(this.width)},l.An=function(a){a.K(this.height)},l.pn=function(a){this.Lb();a.K(this.F.left)},l.rn=function(a){this.Lb();a.K(this.F.top)},l.qn=function(a){this.Lb();a.K(this.F.right)},l.on=function(a){this.Lb();a.K(this.F.bottom)});d&&(u.nn=function(a,b){return ra(this.j,S(b))<=S(a)},u.En=function(a){return ta(this.j,S(a))},u.Cn=function(a,b){var c=pa(a),d=pa(b),e=T(this.j);return ta(d,c)?ta(e,c)&&!ta(e,
d):!(!ta(e,c)&&ta(e,d))},e.ao=function(a){a=S(na(a));isNaN(a)||this.j===a||(this.j=a,this.q())},e.Xn=function(a){0===a||isNaN(a)||(this.j+=S(a),this.j=T(this.j),this.q())},e.Yn=function(a){0===a||isNaN(a)||(this.j-=S(a),this.j=T(this.j),this.q())},e.Zn=function(a,b){var c=sa(this.j,S(b),S(a));isNaN(c)||this.j===c||(this.j=c,this.q())},e.$n=function(a,b,c){a=sa(this.j,Math.atan2(c-this.y,b-this.x),S(a));isNaN(a)||this.j===a||(this.j=a,this.q())},e.mo=function(a,b){var c=Math.atan2(b-this.y,a-this.x);
isNaN(c)||this.j===c||(this.j=c,this.q())},l.mn=function(a){a.K(oa(this.j))});f||(u.tn=function(a,b,c){return zb(this.ia[a],b,c)},u.Dn=function(a){return this.ia[a]},u.Un=function(a,b){var c=this.Y(),d=c.Tb();if(!d.length)return!1;var e=d[0],h=e,f=e.ia[b],l,n,u;l=1;for(n=d.length;l<n;l++)if(e=d[l],u=e.ia[b],0===a&&u<f||1===a&&u>f)f=u,h=e;c.Ue(h);return!0},u.Sn=function(a){var b,c,d,e,h;if(this.b.Fl().Ee){h=this.Y();if(h.ha)for(h.ha=!1,h.d.length=0,h.N.length=0,d=this.d,b=0,c=d.length;b<c;b++)e=d[b],
e.uid===a?h.N.push(e):h.d.push(e);else{d=b=0;for(c=h.d.length;b<c;b++)e=h.d[b],h.d[d]=e,e.uid===a?h.N.push(e):d++;h.d.length=d}return!!h.d.length}e=this.b.Tg(a);if(!e)return!1;h=this.Y();if(!h.ha&&-1===h.d.indexOf(e))return!1;if(this.I)for(a=e.type.T,b=0,c=a.length;b<c;b++){if(a[b]===this)return h.Ue(e),!0}else if(e.type===this)return h.Ue(e),!0;return!1},u.sk=G(!0),u.tk=G(!0),e.ho=function(a,b){var c=this.ia;J(c[a])?c[a]=J(b)?b:parseFloat(b):K(c[a])&&(c[a]=K(b)?b:b.toString())},e.ln=function(a,b){var c=
this.ia;J(c[a])?c[a]=J(b)?c[a]+b:c[a]+parseFloat(b):K(c[a])&&(c[a]=K(b)?c[a]+b:c[a]+b.toString())},e.ro=function(a,b){var c=this.ia;J(c[a])&&(c[a]=J(b)?c[a]-b:c[a]-parseFloat(b))},e.bo=function(a,b){this.ia[a]=b?1:0},e.so=function(a){this.ia[a]=1-this.ia[a]},e.zn=function(){this.b.zd(this)},l.yn=function(a){var b=a.Yd.d.length,c,d,e;c=0;for(d=this.b.eb.length;c<d;c++)e=this.b.eb[c],a.Yd.I?0<=e.type.T.indexOf(a.Yd)&&b++:e.type===a.Yd&&b++;a.V(b)},l.Wn=function(a){a.V(a.Yd.Y().Tb().length)},l.to=function(a){a.V(this.uid)},
l.Bn=function(a){a.V(this.Ae())});a&&(u.In=F("visible"),e.no=function(a){!a!==!this.visible&&(this.visible=a,this.b.U=!0)},u.un=function(a,b){return zb(Fa(100*this.opacity),a,b)},e.io=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.U=!0)},l.Opacity=function(a){a.K(Fa(100*this.opacity))});n&&(u.Fn=function(a){return a?this.e===a:!1},u.Vn=function(a){var b=this.Y(),c=b.Tb();if(!c.length)return!1;var d=c[0],e=d,h,f;h=1;for(f=c.length;h<f;h++)if(d=c[h],0===a){if(d.e.index>
e.e.index||d.e.index===e.e.index&&d.gb()>e.gb())e=d}else if(d.e.index<e.e.index||d.e.index===e.e.index&&d.gb()<e.gb())e=d;b.Ue(e);return!0},e.Pn=function(){var a=this.gb();a!==this.e.d.length-1&&(ia(this.e.d,a),this.e.d.push(this),this.b.U=!0,this.e.ab=!0)},e.Nn=function(){var a=this.gb();0!==a&&(ia(this.e.d,a),this.e.d.unshift(this),this.b.U=!0,this.e.ab=!0)},e.On=function(a){a&&a!=this.e&&(ia(this.e.d,this.gb()),this.e.ab=!0,this.e=a,this.yd=a.d.length,a.d.push(this),this.b.U=!0)},e.yo=function(a,
b){var c=0===a;if(b){var d=b.Gl(this);if(d&&d.uid!==this.uid){this.e.index!==d.e.index&&(ia(this.e.d,this.gb()),this.e.ab=!0,this.e=d.e,this.yd=d.e.d.length,d.e.d.push(this));var e=this.gb(),d=d.gb();ia(this.e.d,e);e<d&&d--;c&&d++;d===this.e.d.length?this.e.d.push(this):this.e.d.splice(d,0,this);this.e.ab=!0;this.b.U=!0}}},l.Kn=function(a){a.V(this.e.xj)},l.Jn=function(a){a.Jb(this.e.name)},l.xo=function(a){a.V(this.gb())});c&&(e.co=function(a,b){if(this.b.C){var c=this.type.Rg(b);if(!(0>c)){var d=
1===a;this.uc[c]!==d&&(this.uc[c]=d,this.tc(),this.b.U=!0)}}},e.eo=function(a,b,c){if(this.b.C){var d=this.type.Rg(a);0>d||(a=this.type.u[d],d=this.$[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.C.Ql(a.wa,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.cc&&(this.b.U=!0))))}})}function sb(){this.ug=!0;this.b.U=!0;var c,l;c=0;for(l=this.pf.length;c<l;c++)this.pf[c](this)}function tb(c){c&&this.pf.push(c)}
function vb(){if(this.ug){this.F.set(this.x,this.y,this.x+this.width,this.y+this.height);this.F.offset(-this.Ra*this.width,-this.Sa*this.height);this.j?(this.F.offset(-this.x,-this.y),this.cb.Uj(this.F,this.j),this.cb.offset(this.x,this.y),this.cb.ni(this.F)):this.cb.Nh(this.F);var c=0;this.F.left>this.F.right&&(c=this.F.left,this.F.left=this.F.right,this.F.right=c);this.F.top>this.F.bottom&&(c=this.F.top,this.F.top=this.F.bottom,this.F.bottom=c);this.ug=!1}}
function ub(c,l){return this.F.Nb(c,l)&&this.cb.Nb(c,l)?this.S&&!this.S.Ke()?(this.S.qe(this.width,this.height,this.j),this.S.Nb(c-this.x,l-this.y)):!0:!1}function qb(){this.type.ng();return this.ed}function wb(){this.e.gn();return this.yd}function xb(){this.L.length=0;var c,l;c=0;for(l=this.uc.length;c<l;c++)this.uc[c]&&this.L.push(this.type.u[c]);this.mk=!!this.L.length}function rb(){return"Inst"+this.Kj}
function fb(c){if(c&&c.Db&&c.type!=this){var l,f,h;l=0;for(f=c.siblings.length;l<f;l++)if(h=c.siblings[l],h.type==this)return h}c=this.Y().Tb();return c.length?c[0]:null}function gb(c){var l=this.Y().Tb();return l.length?l[c.Ae()%l.length]:null}function eb(){if(this.fe&&!this.I){var c,l;c=0;for(l=this.d.length;c<l;c++)this.d[c].ed=c;var f=c,h=this.b.eb;c=0;for(l=h.length;c<l;++c)h[c].type===this&&(h[c].ed=f++);this.fe=!1}}function hb(){return this.Lc[this.hc]}
function ib(){this.hc++;this.hc===this.Lc.length?this.Lc.push(new Ia(this)):this.Lc[this.hc].ha=!0}function jb(){this.hc++;this.hc===this.Lc.length&&this.Lc.push(new Ia(this));var c=this.Lc[this.hc],l=this.Lc[this.hc-1];l.ha?c.ha=!0:(c.ha=!1,la(c.d,l.d),la(c.N,l.N))}function kb(){this.hc--}
function lb(c){var l,f,h,b,d,a=0;if(!this.I)for(l=0,f=this.T.length;l<f;l++)for(d=this.T[l],h=0,b=d.R.length;h<b;h++){if(c===d.R[h].name)return this.W.dj=a,d.R[h];a++}l=0;for(f=this.R.length;l<f;l++){if(c===this.R[l].name)return this.W.dj=a,this.R[l];a++}return null}function mb(c){return this.Df(c)?this.W.dj:-1}function nb(c){var l,f;l=0;for(f=this.u.length;l<f;l++)if(this.u[l].name===c)return l;return-1}
function ob(){if(this.Db&&!this.I){var c,l,f,h,b,d,a;this.ng();d=this.Y();var n=d.ha,u=(c=this.b.fb())&&c.Bb&&c.Bb.Wb;c=0;for(l=this.Ha.length;c<l;c++)if(b=this.Ha[c],b!==this&&(b.ng(),a=b.Y(),a.ha=n,!n)){a.d.length=d.d.length;f=0;for(h=d.d.length;f<h;f++)a.d[f]=b.d[d.d[f].ed];if(u)for(a.N.length=d.N.length,f=0,h=d.N.length;f<h;f++)a.N[f]=b.d[d.N[f].ed]}}}function pb(){return"Type"+this.D}
function zb(c,l,f){if("undefined"===typeof c||"undefined"===typeof f)return!1;switch(l){case 0:return c===f;case 1:return c!==f;case 2:return c<f;case 3:return c<=f;case 4:return c>f;case 5:return c>=f;default:return!1}}var bb={};function Ab(c){this.b=c}
(function(){function c(){if(0===this.Eg.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.ee?b.drawImage(this.Ba,this.Zd,this.$d,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Ba,0,0,this.width,this.height);this.Eg=a.toDataURL("image/png")}return this.Eg}function l(){}function f(){}var h=Ab.prototype;h.xb=function(a){this.Ja=a;this.b=a.b};var b=h.xb.prototype;b.ja=function(){if(!this.I){var a,b,d,g,h,f,l,m,n;this.zb=
[];this.Gf=!1;a=0;for(b=this.La.length;a<b;a++){h=this.La[a];l={};l.name=h[0];l.speed=h[1];l.loop=h[2];l.Eh=h[3];l.$f=h[4];l.Cj=h[5];l.D=h[6];l.frames=[];d=0;for(g=h[7].length;d<g;d++)f=h[7][d],m={},m.Zj=f[0],m.$j=f[1],m.Zd=f[2],m.$d=f[3],m.width=f[4],m.height=f[5],m.duration=f[6],m.Ra=f[7],m.Sa=f[8],m.Xg=f[9],m.Xf=f[10],m.Dj=f[11],m.ee=0!==m.width,m.Eg="",m.Bo=c,n={left:0,top:0,right:1,bottom:1},m.Rh=n,m.Rc=null,(n=this.b.Bl(f[0]))?m.Ba=n:(m.Ba=new Image,m.Ba.idtkLoadDisposed=!0,m.Ba.src=f[0],m.Ba.Lk=
f[0],m.Ba.Kk=f[1],m.Ba.Jk=null,this.b.Qc.push(m.Ba)),l.frames.push(m),this.zb.push(m);this.La[a]=l}}};b.dn=function(){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=this.d[a],c.sf=c.kb.Rc};b.zj=function(){if(!this.I){var a,b,c;a=0;for(b=this.zb.length;a<b;++a)c=this.zb[a],c.Ba.Jk=null,c.Rc=null}};b.Aj=function(){if(!this.I&&this.d.length){var a,b,c;a=0;for(b=this.zb.length;a<b;++a)c=this.zb[a],c.Rc=this.b.C.mj(c.Ba,this.b.ea,c.Dj);this.dn()}};b.Am=function(){if(!this.I&&!this.Gf&&this.b.C){var a,b,c;
a=0;for(b=this.zb.length;a<b;++a)c=this.zb[a],c.Rc=this.b.C.mj(c.Ba,this.b.ea,c.Dj);this.Gf=!0}};b.ik=function(){if(!this.I&&!this.d.length&&this.Gf){var a,b,c;a=0;for(b=this.zb.length;a<b;++a)c=this.zb[a],this.b.C.deleteTexture(c.Rc);this.Gf=!1}};var d=[];b.Hj=function(a){var b,c,g;b=d.length=0;for(c=this.zb.length;b<c;++b)g=this.zb[b].Ba,-1===d.indexOf(g)&&(a.drawImage(g,0,0),d.push(g))};h.Ka=function(a){this.type=a;this.b=a.b;a=this.type.La[0].frames[0].Xf;this.Hb?this.S.$e(a):this.S=new Ba(a)};
var a=h.Ka.prototype;a.ja=function(){this.visible=0===this.va[0];this.Yg=this.fh=!1;this.zc=0!==this.va[3];1===this.type.La.length&&1===this.type.La[0].frames.length||0===this.type.La[0].speed||(this.b.bk(this),this.fh=!0);this.Z=this.Ki(this.va[1])||this.type.La[0];this.k=this.va[2];0>this.k&&(this.k=0);this.k>=this.Z.frames.length&&(this.k=this.Z.frames.length-1);var a=this.Z.frames[this.k];this.S.$e(a.Xf);this.Ra=a.Ra;this.Sa=a.Sa;this.te=this.Z.speed;this.Hb?this.Mb.reset():this.Mb=new za;this.ic=
this.Mb.Ea;this.Tc=!0;this.ec=0;this.Sc=!0;this.rf=this.ji="";this.si=0;this.yg=-1;this.type.Am();var b,c,d,h,f,l,m,a=0;for(b=this.type.La.length;a<b;a++)for(h=this.type.La[a],c=0,d=h.frames.length;c<d;c++)f=h.frames[c],0===f.width&&(f.width=f.Ba.width,f.height=f.Ba.height),f.ee&&(m=f.Ba,l=f.Rh,l.left=f.Zd/m.width,l.top=f.$d/m.height,l.right=(f.Zd+f.width)/m.width,l.bottom=(f.$d+f.height)/m.height,0===f.Zd&&0===f.$d&&f.width===m.width&&f.height===m.height&&(f.ee=!1));this.kb=this.Z.frames[this.k];
this.sf=this.kb.Rc};a.pb=function(){var a={a:this.Z.D,f:this.k,cas:this.te,fs:this.ic,ar:this.ec,at:this.Mb.Ea};this.Tc||(a.ap=this.Tc);this.Sc||(a.af=this.Sc);return a};a.Vb=function(a){var b=this.Dl(a.a);b&&(this.Z=b);this.k=a.f;0>this.k&&(this.k=0);this.k>=this.Z.frames.length&&(this.k=this.Z.frames.length-1);this.te=a.cas;this.ic=a.fs;this.ec=a.ar;this.Mb.reset();this.Mb.Ea=a.at;this.Tc=a.hasOwnProperty("ap")?a.ap:!0;this.Sc=a.hasOwnProperty("af")?a.af:!0;this.kb=this.Z.frames[this.k];this.sf=
this.kb.Rc;this.S.$e(this.kb.Xf);this.Ra=this.kb.Ra;this.Sa=this.kb.Sa};a.tg=function(a){this.k=a?0:this.Z.frames.length-1;this.Tc=!1;this.ji=this.Z.name;this.Yg=!0;this.b.trigger(Ab.prototype.M.qk,this);this.b.trigger(Ab.prototype.M.pk,this);this.Yg=!1;this.ec=0};a.Do=function(){return this.Mb.Ea};a.$b=function(){this.Mb.add(this.b.Pg(this));this.rf.length&&this.Bi();0<=this.yg&&this.Pk();var a=this.Mb.Ea,b=this.Z,c=b.frames[this.k],d=c.duration/this.te;this.Tc&&a>=this.ic+d&&(this.Sc?this.k++:this.k--,
this.ic+=d,this.k>=b.frames.length&&(b.Cj?(this.Sc=!1,this.k=b.frames.length-2):b.loop?this.k=b.$f:(this.ec++,this.ec>=b.Eh?this.tg(!1):this.k=b.$f)),0>this.k&&(b.Cj?(this.k=1,this.Sc=!0,b.loop||(this.ec++,this.ec>=b.Eh&&this.tg(!0))):b.loop?this.k=b.$f:(this.ec++,this.ec>=b.Eh?this.tg(!0):this.k=b.$f)),0>this.k?this.k=0:this.k>=b.frames.length&&(this.k=b.frames.length-1),a>this.ic+b.frames[this.k].duration/this.te&&(this.ic=a),a=b.frames[this.k],this.ne(c,a),this.b.U=!0)};a.Ki=function(a){var b,
c,d;b=0;for(c=this.type.La.length;b<c;b++)if(d=this.type.La[b],Ga(d.name,a))return d;return null};a.Dl=function(a){var b,c,d;b=0;for(c=this.type.La.length;b<c;b++)if(d=this.type.La[b],d.D===a)return d;return null};a.Bi=function(){var a=this.Z.frames[this.k],b=this.Ki(this.rf);this.rf="";!b||Ga(b.name,this.Z.name)&&this.Tc||(this.Z=b,this.te=b.speed,0>this.k&&(this.k=0),this.k>=this.Z.frames.length&&(this.k=this.Z.frames.length-1),1===this.si&&(this.k=0),this.Tc=!0,this.ic=this.Mb.Ea,this.Sc=!0,this.ne(a,
this.Z.frames[this.k]),this.b.U=!0)};a.Pk=function(){var a=this.Z.frames[this.k],b=this.k;this.k=O(this.yg);0>this.k&&(this.k=0);this.k>=this.Z.frames.length&&(this.k=this.Z.frames.length-1);b!==this.k&&(this.ne(a,this.Z.frames[this.k]),this.ic=this.Mb.Ea,this.b.U=!0);this.yg=-1};a.ne=function(a,b){var c=a.width,d=a.height,h=b.width,f=b.height;c!=h&&(this.width*=h/c);d!=f&&(this.height*=f/d);this.Ra=b.Ra;this.Sa=b.Sa;this.S.$e(b.Xf);this.q();this.kb=b;this.sf=b.Rc;c=0;for(d=this.H.length;c<d;c++)h=
this.H[c],h.Hm&&h.Hm(a,b);this.b.trigger(Ab.prototype.M.ne,this)};a.Yc=function(a){a.globalAlpha=this.opacity;var b=this.kb,c=b.ee,d=b.Ba,h=this.x,f=this.y,l=this.width,m=this.height;if(0===this.j&&0<=l&&0<=m)h-=this.Ra*l,f-=this.Sa*m,this.b.ae&&(h=h+0.5|0,f=f+0.5|0),c?a.drawImage(d,b.Zd,b.$d,b.width,b.height,h,f,l,m):a.drawImage(d,h,f,l,m);else{this.b.ae&&(h=h+0.5|0,f=f+0.5|0);a.save();var n=0<l?1:-1,u=0<m?1:-1;a.translate(h,f);1===n&&1===u||a.scale(n,u);a.rotate(this.j*n*u);h=0-this.Ra*L(l);f=0-
this.Sa*L(m);c?a.drawImage(d,b.Zd,b.$d,b.width,b.height,h,f,L(l),L(m)):a.drawImage(d,h,f,L(l),L(m));a.restore()}};a.Qb=function(a){a.Ib(this.sf);a.Ze(this.opacity);var b=this.kb,c=this.cb;if(this.b.ae){var d=(this.x+0.5|0)-this.x,h=(this.y+0.5|0)-this.y;b.ee?a.rd(c.pa+d,c.qa+h,c.Ya+d,c.Za+h,c.Oa+d,c.Pa+h,c.Ma+d,c.Na+h,b.Rh):a.Zf(c.pa+d,c.qa+h,c.Ya+d,c.Za+h,c.Oa+d,c.Pa+h,c.Ma+d,c.Na+h)}else b.ee?a.rd(c.pa,c.qa,c.Ya,c.Za,c.Oa,c.Pa,c.Ma,c.Na,b.Rh):a.Zf(c.pa,c.qa,c.Ya,c.Za,c.Oa,c.Pa,c.Ma,c.Na)};a.Il=
function(a){var b=this.kb,c,d;c=0;for(d=b.Xg.length;c<d;c++)if(Ga(a,b.Xg[c][0]))return c;return-1};a.Sg=function(a,b){var c=this.kb,d=c.Xg,h;h=K(a)?this.Il(a):a-1;h=O(h);if(0>h||h>=d.length)return b?this.x:this.y;var f=(d[h][1]-c.Ra)*this.width,d=d[h][2],d=(d-c.Sa)*this.height,c=Math.cos(this.j);h=Math.sin(this.j);var l=f*c-d*h,d=d*c+f*h,f=l+this.x,d=d+this.y;return b?f:d};var n=new U,u=!1;b.finish=function(a){if(u){if(a){var b=this.b.fb().Bb.Wb;a=null.Y();var c=n.xd(),d,h;if(a.ha){a.ha=!1;a.d.length=
c.length;d=0;for(h=c.length;d<h;d++)a.d[d]=c[d];if(b)for(d=a.N.length=0,h=null.d.length;d<h;d++)b=null.d[d],n.contains(b)||a.N.push(b)}else{var f=a.d.length;a.d.length=f+c.length;d=0;for(h=c.length;d<h;d++)a.d[f+d]=c[d],b&&R(a.N,c[d])}null.nf()}n.clear();u=!1}};l.prototype.pk=function(a){return Ga(this.ji,a)};l.prototype.qk=G(!0);l.prototype.ne=G(!0);h.M=new l;f.prototype.Ck=function(a,b){this.rf=a;this.si=b;this.fh||(this.b.bk(this),this.fh=!0);this.Yg||this.Bi()};h.vc=new f;h.we=new (E())})();
function Bb(c){this.b=c}
(function(){function c(){}var l=Bb.prototype;l.xb=function(c){this.G=c;this.b=c.b};l.xb.prototype.ja=E();l.Ka=function(c,b){this.type=c;this.G=c.G;this.c=b;this.b=c.b;this.eg=this.Th=this.Sh=this.Wg=this.Nd=this.Ne=this.ag=this.Pf=!1;this.hb=null;this.jh=-1;this.ld=this.kd=0;this.Bf=!1;this.Hd=this.Ab=0;this.Af=!0;this.P=this.A=0};var f=l.Ka.prototype;f.kk=function(){this.ta=Math.cos(this.Jd);this.ua=Math.sin(this.Jd);this.sd=Math.cos(this.Jd-Math.PI/2);this.td=Math.sin(this.Jd-Math.PI/2);this.ta=
Fa(this.ta);this.ua=Fa(this.ua);this.sd=Fa(this.sd);this.td=Fa(this.td);this.Ng=this.jc;0>this.jc&&(this.ta*=-1,this.ua*=-1,this.jc=Math.abs(this.jc))};f.ja=function(){this.Wd=this.va[0];this.Ad=this.va[1];this.Fd=this.va[2];this.hh=this.va[3];this.Ng=this.jc=this.va[4];this.Uf=this.va[5];this.Ok=1===this.va[6];this.enabled=0!==this.va[7];this.ke=!1;this.pg=this.b.Mc(this.c);this.Jd=S(90);this.kk();var c=this;this.Ok&&!this.b.Cb&&(jQuery(document).keydown(function(b){c.Fm(b)}),jQuery(document).keyup(function(b){c.Gm(b)}));
this.Hb||(this.vj=function(b){c.Em(b)});this.b.Dk(this.vj)};f.pb=function(){return{ii:this.Wg,lfx:this.kd,lfy:this.ld,lfo:this.hb?this.hb.uid:-1,am:this.Ab,en:this.enabled,fall:this.Hd,ft:this.Af,dx:this.A,dy:this.P,ms:this.Wd,acc:this.Ad,dec:this.Fd,js:this.hh,g:this.jc,g1:this.Ng,mf:this.Uf,wof:this.ke,woj:this.pg,ga:this.Jd}};f.Vb=function(c){this.Wg=c.ii;this.kd=c.lfx;this.ld=c.lfy;this.jh=c.lfo;this.Ab=c.am;this.enabled=c.en;this.Hd=c.fall;this.Af=c.ft;this.A=c.dx;this.P=c.dy;this.Wd=c.ms;this.Ad=
c.acc;this.Fd=c.dec;this.hh=c.js;this.jc=c.g;this.Ng=c.g1;this.Uf=c.mf;this.ke=c.wof;this.pg=c.woj;this.Jd=c.ga;this.eg=this.Th=this.Sh=this.Nd=this.Ne=this.ag=this.Pf=!1;this.kk()};f.lf=function(){this.hb=-1===this.jh?null:this.b.Tg(this.jh)};f.Em=function(c){this.hb==c&&(this.hb=null)};f.Wf=function(){this.hb=null;this.b.Qm(this.vj)};f.Fm=function(c){switch(c.which){case 38:c.preventDefault();this.Ne=!0;break;case 37:c.preventDefault();this.Pf=!0;break;case 39:c.preventDefault(),this.ag=!0}};f.Gm=
function(c){switch(c.which){case 38:c.preventDefault();this.Nd=this.Ne=!1;break;case 37:c.preventDefault();this.Pf=!1;break;case 39:c.preventDefault(),this.ag=!1}};f.Co=function(){return 0>this.jc?-1:1};f.Zi=function(){var c=null,b=null,d,a;d=this.c.x;a=this.c.y;this.c.x+=this.ta;this.c.y+=this.ua;this.c.q();if(this.hb&&this.b.Kb(this.c,this.hb))return this.c.x=d,this.c.y=a,this.c.q(),this.hb;(c=this.b.Xa(this.c))||0!==this.Hd||(b=this.b.Mc(this.c,!0));this.c.x=d;this.c.y=a;this.c.q();if(c){if(this.b.Kb(this.c,
c))return null;this.Bf=!1;return c}if(b&&b.length){a=c=0;for(d=b.length;c<d;c++)b[a]=b[c],this.b.Kb(this.c,b[c])||a++;if(1<=a)return this.Bf=!0,b[0]}return null};f.$b=E();f.Gj=function(){var c=this.b.Pg(this.c),b,d,a,f,l,e,k,r,g;this.Ne||this.eg||(this.Nd=!1);var p=this.Pf||this.Sh;a=this.ag||this.Th;var q=(this.Ne||this.eg)&&!this.Nd;this.eg=this.Th=this.Sh=!1;if(this.enabled){this.Wg&&(q=a=p=!1);r=this.hb;g=!1;this.Af&&((this.b.Xa(this.c)||this.b.Mc(this.c))&&this.b.Xb(this.c,-this.ta,-this.ua,
4,!0),this.Af=!1);!r||0!==this.P||r.y===this.ld&&r.x===this.kd||(b=r.x-this.kd,d=r.y-this.ld,this.c.x+=b,this.c.y+=d,this.c.q(),this.kd=r.x,this.ld=r.y,g=!0,this.b.Xa(this.c)&&this.b.Xb(this.c,-b,-d,2.5*Math.sqrt(b*b+d*d)));var t=this.Zi();if(d=this.b.Xa(this.c))if(this.b.Pm(this.c,Math.max(this.c.width,this.c.height)/2))this.b.Xe(this.c,d);else return;t?(0<this.P&&(this.ke||(this.b.zh(this.c,-this.ta,-this.ua,t),this.ke=!0),this.P=0),r!=t?(this.hb=t,this.kd=t.x,this.ld=t.y,this.b.Xe(this.c,t)):g&&
(d=this.b.Xa(this.c))&&(this.b.Xe(this.c,d),0!==b&&(0<b?this.b.Xb(this.c,-this.sd,-this.td):this.b.Xb(this.c,this.sd,this.td)),this.b.Xb(this.c,-this.ta,-this.ua)),q&&(r=this.c.x,g=this.c.y,this.c.x-=this.ta,this.c.y-=this.ua,this.c.q(),this.b.Xa(this.c)?q=!1:(this.b.trigger(Bb.prototype.M.vk,this.c),this.Ab=2,this.P=-this.hh,this.Nd=!0),this.c.x=r,this.c.y=g,this.c.q())):(this.hb=null,this.P+=this.jc*c,this.P>this.Uf&&(this.P=this.Uf),q&&(this.Nd=!0));this.ke=!!t;p==a&&(0>this.A?(this.A+=this.Fd*
c,0<this.A&&(this.A=0)):0<this.A&&(this.A-=this.Fd*c,0>this.A&&(this.A=0)));p&&!a&&(this.A=0<this.A?this.A-(this.Ad+this.Fd)*c:this.A-this.Ad*c);a&&!p&&(this.A=0>this.A?this.A+(this.Ad+this.Fd)*c:this.A+this.Ad*c);this.A>this.Wd?this.A=this.Wd:this.A<-this.Wd&&(this.A=-this.Wd);p=!1;0!==this.A&&(r=this.c.x,g=this.c.y,b=this.A*c*this.sd,d=this.A*c*this.td,this.c.x+=this.sd*(1<this.A?1:-1)-this.ta,this.c.y+=this.td*(1<this.A?1:-1)-this.ua,this.c.q(),f=!1,l=this.b.Xa(this.c),this.c.x=r+b,this.c.y=g+
d,this.c.q(),a=this.b.Xa(this.c),!a&&t&&(a=this.b.Mc(this.c))&&(this.c.x=r,this.c.y=g,this.c.q(),this.b.Kb(this.c,a)?(a=null,f=!1):f=!0,this.c.x=r+b,this.c.y=g+d,this.c.q()),a?(b=Math.abs(this.A*c)+2,l||!this.b.Xb(this.c,-this.ta,-this.ua,b,f,a))?(this.b.Xe(this.c,a),b=Math.max(Math.abs(2.5*this.A*c),30),this.b.Xb(this.c,this.sd*(0>this.A?1:-1),this.td*(0>this.A?1:-1),b,!1)?!t||f||this.Bf||(r=this.c.x,g=this.c.y,this.c.x+=this.ta,this.c.y+=this.ua,this.b.Xa(this.c)?this.b.Xb(this.c,-this.ta,-this.ua,
3,!1)||(this.c.x=r,this.c.y=g,this.c.q()):(this.c.x=r,this.c.y=g,this.c.q())):(this.c.x=r,this.c.y=g,this.c.q()),f||(this.A=0)):!l&&15>Math.abs(this.P)&&(this.P=0,t||(p=!0)):(r=this.Zi(),t&&!r?(d=Math.ceil(Math.abs(this.A*c))+2,r=this.c.x,g=this.c.y,this.c.x+=this.ta*d,this.c.y+=this.ua*d,this.c.q(),this.b.Xa(this.c)||this.b.Mc(this.c)?this.b.Xb(this.c,-this.ta,-this.ua,d+2,!0):(this.c.x=r,this.c.y=g,this.c.q())):r&&0===this.P&&this.b.zh(this.c,-this.ta,-this.ua,r)));if(0!==this.P){r=this.c.x;g=this.c.y;
this.c.x+=this.P*c*this.ta;this.c.y+=this.P*c*this.ua;b=this.c.x;a=this.c.y;this.c.q();d=this.b.Xa(this.c);f=!1;if(!d&&0<this.P&&!t){if((f=0<this.Hd?null:this.b.Mc(this.c,!0))&&f.length){if(this.pg){this.c.x=r;this.c.y=g;this.c.q();k=l=0;for(e=f.length;l<e;l++)f[k]=f[l],this.b.Kb(this.c,f[l])||k++;f.length=k;this.c.x=b;this.c.y=a;this.c.q()}1<=f.length&&(d=f[0])}f=!!d}d&&(this.b.Xe(this.c,d),b=f?Math.abs(2.5*this.P*c+10):Math.max(Math.abs(2.5*this.P*c+10),30),this.b.Xb(this.c,this.ta*(0>this.P?1:
-1),this.ua*(0>this.P?1:-1),b,f,d)?(this.hb=d,this.kd=d.x,this.ld=d.y,(this.Bf=f)&&(p=!0),this.P=0):(this.c.x=r,this.c.y=g,this.c.q(),this.ke=!0,f||(this.P=0)))}3!==this.Ab&&0<this.P&&!t&&(this.b.trigger(Bb.prototype.M.uk,this.c),this.Ab=3);if(t||p)3===this.Ab||p||q&&0===this.P?(this.b.trigger(Bb.prototype.M.wk,this.c),this.Ab=0===this.A&&0===this.P?0:1):(0!==this.Ab&&0===this.A&&0===this.P&&(this.b.trigger(Bb.prototype.M.Bk,this.c),this.Ab=0),1===this.Ab||0===this.A&&0===this.P||q||(this.b.trigger(Bb.prototype.M.Ak,
this.c),this.Ab=1));0<this.Hd&&this.Hd--;this.pg=this.b.Mc(this.c)}};c.prototype.ok=function(){return 0!==this.A||0!==this.P};c.prototype.vk=G(!0);c.prototype.uk=G(!0);c.prototype.Bk=G(!0);c.prototype.Ak=G(!0);c.prototype.wk=G(!0);l.M=new c;l.vc=new (E());l.we=new (E())})();function Cb(c){this.b=c}
(function(){var c=Cb.prototype;c.xb=function(c){this.G=c;this.b=c.b};c.xb.prototype.ja=E();c.Ka=function(c,f){this.type=c;this.G=c.G;this.c=f;this.b=c.b;this.mode=0};c=c.Ka.prototype;c.ja=function(){this.mode=this.va[0]};c.$b=E();c.kg=function(){this.c.Lb();var c=this.c.F,f=this.c.e.Q,h=!1;0===this.mode?(0>this.c.x&&(this.c.x=0,h=!0),0>this.c.y&&(this.c.y=0,h=!0),this.c.x>f.width&&(this.c.x=f.width,h=!0),this.c.y>f.height&&(this.c.y=f.height,h=!0)):(0>c.left&&(this.c.x-=c.left,h=!0),0>c.top&&(this.c.y-=
c.top,h=!0),c.right>f.width&&(this.c.x-=c.right-f.width,h=!0),c.bottom>f.height&&(this.c.y-=c.bottom-f.height,h=!0));h&&this.c.q()}})();function Db(c){this.b=c;this.Qh=this.dg=this.cf=this.Ph=0}
(function(){var c=Db.prototype;c.xb=function(c){this.G=c;this.b=c.b};c.xb.prototype.ja=E();c.Ka=function(c,h){this.type=c;this.G=c.G;this.c=h;this.b=c.b};var l=c.Ka.prototype;l.ja=E();l.pb=function(){return{smg:this.G.Ph,ss:this.G.cf,se:this.G.dg,smd:this.G.Qh}};l.Vb=function(c){this.G.Ph=c.smg;this.G.cf=c.ss;this.G.dg=c.se;this.G.Qh=c.smd};l.$b=E();l.kg=function(){var c=this.G.Xd.jn(),h=0,b=0,d,a;d=0;for(a=c.length;d<a;d++)h+=c[d].x,b+=c[d].y;d=this.c.e.Q;var l=this.b.jd.Ea,u=a=0;l>=this.G.cf&&l<
this.G.dg&&(a=this.G.Ph*Math.min(this.b.he,1),0===this.G.Qh&&(a*=1-(l-this.G.cf)/(this.G.dg-this.G.cf)),l=2*Math.random()*Math.PI,u=Math.random()*a,a=Math.cos(l)*u,u*=Math.sin(l));d.Kh(h/c.length+a);d.Lh(b/c.length+u)};c.vc=new (E())})();function yb(c){this.b=c}
(function(){var c=yb.prototype;c.xb=function(c){this.G=c;this.b=c.b};c.xb.prototype.ja=E();c.Ka=function(c,h){this.type=c;this.G=c.G;this.c=h;this.b=c.b};var l=c.Ka.prototype;l.ja=function(){this.c.W.$m=0!==this.va[0]};l.$b=E();c.M=new (E());c.vc=new (E())})();
function cb(){return[null,null,[[Ab,!1,!0,!0,!0,!0,!0,!0,!0,!1]],[["t0",Ab,!1,[],3,0,null,[["Default",5,!1,1,0,!1,0x7f3ad1a82670,[["images/sprite-sheet0.png",221,0,0,16,16,1,0.5,0.5,[],[],0],["images/sprite-sheet1.png",215,0,0,16,16,1,0.5,0.5,[],[],0]]],["idle",5,!1,1,0,!1,5727990275628335,[["images/sprite-sheet2.png",221,0,0,16,16,1,0.5,0.5,[],[],0]]]],[["Platform",Bb,8578609059529034],["ScrollTo",Db,8727287476009446],["BoundToLayout",Cb,0xb1ea1690adeaf]],!1,!1,9782052516577696,[]],["t1",Ab,!1,[],
1,0,null,[["Default",5,!1,1,0,!1,8531445167024881,[["images/sprite2-sheet0.png",155,0,0,250,250,1,0.5,0.5,[],[],1]]]],[["Solid",yb,4876554722740924]],!1,!1,0xc43eefdb896f2,[]]],[],[["Layout 1",1280,1024,!1,"Event sheet 1",972402547083002,[["Layer 0",0,0xf8d678ac65633,!0,[255,255,255],!1,1,1,1,!1,1,0,0,[],[]],["Main",1,7935649991604715,!0,[255,255,255],!0,1,1,1,!1,1,0,0,[[[65,64,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,0,[],[[330,1500,1500,650,1500,1E3,1,1],[],[1]],[0,"Default",0,1]],[[128,128,0,288,96,0,0,
1,0.5,0.5,0,0,[]],1,1,[],[[1]],[0,"Default",0,1]],[[480,320,0,288,96,0,0,1,0.5,0.5,0,0,[]],1,2,[],[[1]],[0,"Default",0,1]],[[320,544,0,672,96,0,0,1,0.5,0.5,0,0,[]],1,3,[],[[1]],[0,"Default",0,1]]],[]]],[],[]]],[["Event sheet 1",[[0,null,!1,null,0xb98e0b1177b33,[[0,Bb.prototype.M.ok,"Platform",0,!1,!1,!1,8825430081930508,!1]],[[0,Ab.prototype.vc.Ck,null,0x3af66acf91d7b,!1,[[1,[2,"Default"]],[3,1]]]]]]]],"media/",!1,640,480,4,!0,!0,!0,"1.0.0.0",1,!1,0,!1,4,!1,[]]};
